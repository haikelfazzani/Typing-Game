{"version":3,"sources":["db/lokijs.min.js"],"names":["root","factory","define","amd","exports","module","loki","hasOwnProperty","Object","prototype","Utils","copyProperties","src","dest","prop","resolveTransformObject","subObj","params","depth","pname","indexOf","substring","resolveTransformParams","transform","idx","clonedStep","resolvedTransform","length","clone","push","Comparators","aeq","aeqHelper","lt","ltHelper","gt","gtHelper","prop1","prop2","cv1","cv2","t1","t2","undefined","Number","toString","equal","sortHelper","desc","compoundeval","properties","obj1","obj2","res","field","val1","val2","arr","i","len","split","reduce","obj","dotSubScan","paths","fun","value","poffset","pathOffset","path","call","valueFound","element","Array","isArray","index","containsCheckFn","a","b","doQueryOp","val","op","p","LokiOps","$eq","$aeq","$ne","$dteq","$gt","$gte","$lt","$lte","$jgt","$jgte","$jlt","$jlte","$between","vals","$jbetween","$in","$nin","$keyin","$nkeyin","$definedin","$undefinedin","$regex","test","$containsString","$containsNone","$containsAny","checkFn","some","$contains","every","$type","type","Date","$finite","isFinite","$size","$len","$where","$not","$and","$or","indexedOps","data","method","cloneMethod","cloned","JSON","parse","stringify","jQuery","extend","create","constructor","keys","map","assign","forEach","key","name","cloneObjectArray","objarray","result","localStorageAvailable","window","localStorage","e","LokiEventEmitter","events","asyncListeners","on","eventName","listener","event","self","currentEventName","emit","selfArgs","slice","arguments","setTimeout","apply","Error","addListener","removeListener","listeners","splice","Loki","filename","options","collections","databaseVersion","engineVersion","autosave","autosaveInterval","autosaveHandle","throttledSaves","persistenceMethod","persistenceAdapter","throttledSavePending","throttledCallbacks","verbose","init","loaded","flushChanges","close","changes","warning","getENV","global","android","NSObject","process","document","URL","ENV","env","configureOptions","clearChanges","getIndexedAdapter","adapter","require","initialConfig","defaultPersistence","NODEJS","BROWSER","CORDOVA","MEMORY","persistenceMethods","fs","LokiFsAdapter","LokiLocalStorageAdapter","memory","LokiMemoryAdapter","autoload","loadDatabase","autoloadCallback","autosaveDisable","parseInt","autosaveEnable","autosaveCallback","serializationMethod","destructureDelimiter","copy","databaseCopy","clen","loadJSONObject","retainDirtyFlags","removeNonSerializable","constraints","ttl","addCollection","disableMeta","disableChangesApi","disableDeltaChangesApi","collection","Collection","console","loadCollection","getCollection","collectionName","renameCollection","oldName","newName","c","listCollections","colls","objType","count","removeCollection","tmpcol","curcol","getName","serializeReplacer","serialize","serializeDestructured","toJson","sidx","resultlen","reconstruct","dbcopy","partitioned","delimited","delimiter","partition","serializeCollection","collectionIndex","join","delim","doccount","docidx","resultlines","deserializeDestructured","destructuredSource","workarray","cdb","collIndex","collCount","lineIndex","done","currLine","currObject","deserializeCollection","pop","loadJSON","serializedDb","dbObject","coll","copyColl","j","loader","collObj","makeLoader","collOptions","inflater","proto","inflate","adaptiveBinaryIndices","transactional","cloneObjects","autoupdate","dirty","addAutoUpdateObserver","maxId","idIndex","binaryIndices","transforms","ensureId","uniqueNames","ensureUniqueIndex","DynamicViews","colldv","dv","addDynamicView","resultdata","resultsdirty","filterPipeline","sortCriteria","sortFunction","sortDirty","resultset","filteredrows","filterInitialized","rematerialize","removeWhereFilters","ensureAllIndexes","callback","autosaveDirty","saveDatabase","generateChangesNotification","arrayOfCollectionNames","getCollName","selectedCollections","concat","getChanges","serializeChanges","collectionNamesArray","hashStore","asyncResponses","asyncTimeout","dbname","dbstring","saveCount","savecount","lastsave","deleteDatabase","LokiPartitioningAdapter","mode","dbref","pageIterator","paging","pageSize","db","pageIndex","loadNextPartition","keyname","loadNextPage","dlen","isLastPage","exportDatabase","dirtyPartitions","saveNextPartition","err","shift","docIndex","saveNextPage","pageLen","cdlen","delimlen","serializedObject","pageBuilder","doneWithPartition","doneWithPage","pageSaveCallback","stat","stats","isFile","readFile","encoding","readFileCallback","tmpdbname","writeFile","writeFileCallback","rename","unlink","deleteDatabaseCallback","getItem","setItem","removeItem","throttledSaveDrain","now","getTime","recursiveWait","recursiveWaitLimit","recursiveWaitLimitDuration","started","loadDatabaseInternal","cFun","loadDatabaseCallback","dbString","parseSuccess","success","saveDatabaseInternal","exportDatabaseCallback","autosaveClearFlags","saveDatabasecallback","localCallbacks","unshift","pcb","save","delay","setInterval","autosaveHandleInterval","clearInterval","Resultset","reset","toJSON","limit","qty","prepareFullDocIndex","rscopy","offset","pos","branch","parameters","step","rs","find","where","simplesort","property","compoundsort","sort","dataOptions","eqJoin","joinData","leftJoinKey","rightJoinKey","mapFun","mapReduce","mapFunction","reduceFunction","update","remove","comparefun","wrappedComparer","userComparer","propname","eff","targetEff","dc","frl","hasBinaryIndex","ensureIndex","values","reverse","disableIndexIntersect","useJavascriptSorting","forceIndexIntersect","fr","io","pv","filter","n","props","findOr","expressionArray","fri","frlen","docset","idxset","origCount","ei","elen","findAnd","query","firstOnly","queryObject","queryObjectOp","operator","searchByIndex","filters","RegExp","usingDotNotation","doIndexCheck","t","rowIdx","segm","calculateRange","viewFunction","TypeError","k","removeMeta","forceClones","forceCloneMethod","$loki","meta","updateFunction","rcd","removeBatchByPositions","leftData","leftDataLength","rightData","rightDataLength","leftKeyisFunction","rightKeyisFunction","joinMap","chain","left","right","insert","DynamicView","rebuildPending","persistent","sortPriority","minRebuildInterval","cachedresultset","sortCriteriaSimple","rebuild","fpl","fpi","ofp","applyFind","branchResultset","removeFilters","queueSortPhase","applySort","applySimpleSort","applySortCriteria","criteria","startTransaction","commit","rollback","_indexOfFilterWithId","uid","_addFilter","reapplyFilters","queueRebuildEvent","applyFilter","applyWhere","removeFilter","performSortPhase","suppressRebuildEvent","evaluateDocument","objIndex","isNew","ofr","oldPos","oldlen","evalResultset","newPos","removeDocument","rmidx","rmlen","rxo","fxo","adjels","drs","di","filt","unique","exact","cachedIndex","cachedBinaryIndex","cachedData","UniqueIndex","ExactIndex","serializableIndices","age","ttlInterval","daemon","setTTL","flushbuffer","error","delete","indices","observerCallback","changedObjects","Set","add","object","change","removeAutoUpdateObserver","getChangeDelta","old","getObjectDelta","oldObject","newObject","propertyNames","delta","propertyName","propertyDelta","setChangesApi","enabled","deleteCallback","createChange","warn","operation","insertMeta","created","revision","updateMeta","updated","createInsertChange","createUpdateChange","insertMetaWithChange","updateMetaWithChange","log","observe","unobserve","addTransform","getTransform","setTransform","removeTransform","byExample","template","findObject","findOne","findObjects","ttlDaemonFuncGen","ttlDaemon","toRemove","daemonFilter","member","timestamp","diff","interval","indexes","force","checkAllIndexes","bIndices","results","checkIndex","randomSamplingFactor","randomSampling","valid","iter","biv","repair","Math","floor","random","getBinaryIndexValues","idxvals","set","flagBinaryIndexesDirty","flagBinaryIndexDirty","ensureIdAsync","async","removeDynamicView","getDynamicView","findAndUpdate","filterObject","updateWhere","findAndRemove","doc","insertOne","bulkInsert","returnObj","clear","removeIndices","biname","uiname","adaptiveBatchOverride","get","oldInternal","newInternal","position","adaptiveBinaryIndexUpdate","message","isNaN","version","constrUnique","addedPos","dvlen","adaptiveBinaryIndexInsert","filterFunction","removeWhere","list","removeDataOnly","positions","xo","didx","bic","uic","adaptiveOverride","adaptiveBinaryIndexRemove","id","removeBatch","batch","xlt","posx","returnPosition","retpos","max","min","mid","getBinaryIndexPosition","dataPosition","binaryIndexName","range","idxPos","calculateRangeStart","removedFromIndexOnly","bi","curr","sortedPositions","adaptive","minVal","maxVal","lbound","calculateRangeEnd","ubound","lval","uval","segResult","seg","by","findOneUnindexed","leftJoinProp","rightJoinProp","stages","getStage","commitLog","stage","stageName","commitStage","no_op","extract","isDotNotation","isDeepProperty","deepProperty","maxRecord","deep","minRecord","extractNumerical","parseBase10","avg","average","stdDev","standardDeviation","dict","median","sub","half","num","parseFloat","isNotUndefined","array","squareDiffs","sqrDiff","avgSquareDiff","sqrt","isDeep","pieces","binarySearch","item","lo","hi","compared","found","BSonSort","KeyValueStore","setSort","bs","uniqueField","keyMap","lokiMap","fieldValue","byId","exactField","idxSet","SortedIndex","sortedField","bsr","getLt","getAll","getGt","start","end","getPos","persistenceAdapters"],"mappings":"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","file":"lokijs.min.f245551d.map","sourceRoot":"..","sourcesContent":["(function (root, factory) { if (typeof define === \"function\" && define.amd) { define([], factory) } else if (typeof exports === \"object\") { module.exports = factory() } else { root.loki = factory() } })(this, function () {\r\n    return function () {\r\n        \"use strict\"; var hasOwnProperty = Object.prototype.hasOwnProperty; var Utils = { copyProperties: function (src, dest) { var prop; for (prop in src) { dest[prop] = src[prop] } }, resolveTransformObject: function (subObj, params, depth) { var prop, pname; if (typeof depth !== \"number\") { depth = 0 } if (++depth >= 10) return subObj; for (prop in subObj) { if (typeof subObj[prop] === \"string\" && subObj[prop].indexOf(\"[%lktxp]\") === 0) { pname = subObj[prop].substring(8); if (params.hasOwnProperty(pname)) { subObj[prop] = params[pname] } } else if (typeof subObj[prop] === \"object\") { subObj[prop] = Utils.resolveTransformObject(subObj[prop], params, depth) } } return subObj }, resolveTransformParams: function (transform, params) { var idx, clonedStep, resolvedTransform = []; if (typeof params === \"undefined\") return transform; for (idx = 0; idx < transform.length; idx++) { clonedStep = clone(transform[idx], \"shallow-recurse-objects\"); resolvedTransform.push(Utils.resolveTransformObject(clonedStep, params)) } return resolvedTransform } }; var Comparators = { aeq: aeqHelper, lt: ltHelper, gt: gtHelper }; function aeqHelper(prop1, prop2) { var cv1, cv2, t1, t2; if (prop1 === prop2) return true; if (!prop1 || !prop2 || prop1 === true || prop2 === true || prop1 !== prop1 || prop2 !== prop2) { switch (prop1) { case undefined: t1 = 1; break; case null: t1 = 1; break; case false: t1 = 3; break; case true: t1 = 4; break; case \"\": t1 = 5; break; default: t1 = prop1 === prop1 ? 9 : 0; break }switch (prop2) { case undefined: t2 = 1; break; case null: t2 = 1; break; case false: t2 = 3; break; case true: t2 = 4; break; case \"\": t2 = 5; break; default: t2 = prop2 === prop2 ? 9 : 0; break }if (t1 !== 9 || t2 !== 9) { return t1 === t2 } } cv1 = Number(prop1); cv2 = Number(prop2); if (cv1 === cv1 || cv2 === cv2) { return cv1 === cv2 } cv1 = prop1.toString(); cv2 = prop2.toString(); return cv1 == cv2 } function ltHelper(prop1, prop2, equal) { var cv1, cv2, t1, t2; if (!prop1 || !prop2 || prop1 === true || prop2 === true || prop1 !== prop1 || prop2 !== prop2) { switch (prop1) { case undefined: t1 = 1; break; case null: t1 = 1; break; case false: t1 = 3; break; case true: t1 = 4; break; case \"\": t1 = 5; break; default: t1 = prop1 === prop1 ? 9 : 0; break }switch (prop2) { case undefined: t2 = 1; break; case null: t2 = 1; break; case false: t2 = 3; break; case true: t2 = 4; break; case \"\": t2 = 5; break; default: t2 = prop2 === prop2 ? 9 : 0; break }if (t1 !== 9 || t2 !== 9) { return t1 === t2 ? equal : t1 < t2 } } cv1 = Number(prop1); cv2 = Number(prop2); if (cv1 === cv1 && cv2 === cv2) { if (cv1 < cv2) return true; if (cv1 > cv2) return false; return equal } if (cv1 === cv1 && cv2 !== cv2) { return true } if (cv2 === cv2 && cv1 !== cv1) { return false } if (prop1 < prop2) return true; if (prop1 > prop2) return false; if (prop1 == prop2) return equal; cv1 = prop1.toString(); cv2 = prop2.toString(); if (cv1 < cv2) { return true } if (cv1 == cv2) { return equal } return false } function gtHelper(prop1, prop2, equal) { var cv1, cv2, t1, t2; if (!prop1 || !prop2 || prop1 === true || prop2 === true || prop1 !== prop1 || prop2 !== prop2) { switch (prop1) { case undefined: t1 = 1; break; case null: t1 = 1; break; case false: t1 = 3; break; case true: t1 = 4; break; case \"\": t1 = 5; break; default: t1 = prop1 === prop1 ? 9 : 0; break }switch (prop2) { case undefined: t2 = 1; break; case null: t2 = 1; break; case false: t2 = 3; break; case true: t2 = 4; break; case \"\": t2 = 5; break; default: t2 = prop2 === prop2 ? 9 : 0; break }if (t1 !== 9 || t2 !== 9) { return t1 === t2 ? equal : t1 > t2 } } cv1 = Number(prop1); cv2 = Number(prop2); if (cv1 === cv1 && cv2 === cv2) { if (cv1 > cv2) return true; if (cv1 < cv2) return false; return equal } if (cv1 === cv1 && cv2 !== cv2) { return false } if (cv2 === cv2 && cv1 !== cv1) { return true } if (prop1 > prop2) return true; if (prop1 < prop2) return false; if (prop1 == prop2) return equal; cv1 = prop1.toString(); cv2 = prop2.toString(); if (cv1 > cv2) { return true } if (cv1 == cv2) { return equal } return false } function sortHelper(prop1, prop2, desc) { if (Comparators.aeq(prop1, prop2)) return 0; if (Comparators.lt(prop1, prop2, false)) { return desc ? 1 : -1 } if (Comparators.gt(prop1, prop2, false)) { return desc ? -1 : 1 } return 0 } function compoundeval(properties, obj1, obj2) { var res = 0; var prop, field, val1, val2, arr; for (var i = 0, len = properties.length; i < len; i++) { prop = properties[i]; field = prop[0]; if (~field.indexOf(\".\")) { arr = field.split(\".\"); val1 = arr.reduce(function (obj, i) { return obj && obj[i] || undefined }, obj1); val2 = arr.reduce(function (obj, i) { return obj && obj[i] || undefined }, obj2) } else { val1 = obj1[field]; val2 = obj2[field] } res = sortHelper(val1, val2, prop[1]); if (res !== 0) { return res } } return 0 } function dotSubScan(root, paths, fun, value, poffset) { var pathOffset = poffset || 0; var path = paths[pathOffset]; if (root === undefined || root === null || !hasOwnProperty.call(root, path)) { return false } var valueFound = false; var element = root[path]; if (pathOffset + 1 >= paths.length) { valueFound = fun(element, value) } else if (Array.isArray(element)) { for (var index = 0, len = element.length; index < len; index += 1) { valueFound = dotSubScan(element[index], paths, fun, value, pathOffset + 1); if (valueFound === true) { break } } } else { valueFound = dotSubScan(element, paths, fun, value, pathOffset + 1) } return valueFound } function containsCheckFn(a) { if (typeof a === \"string\" || Array.isArray(a)) { return function (b) { return a.indexOf(b) !== -1 } } else if (typeof a === \"object\" && a !== null) { return function (b) { return hasOwnProperty.call(a, b) } } return null } function doQueryOp(val, op) { for (var p in op) { if (hasOwnProperty.call(op, p)) { return LokiOps[p](val, op[p]) } } return false } var LokiOps = { $eq: function (a, b) { return a === b }, $aeq: function (a, b) { return a == b }, $ne: function (a, b) { if (b !== b) { return a === a } return a !== b }, $dteq: function (a, b) { return Comparators.aeq(a, b) }, $gt: function (a, b) { return Comparators.gt(a, b, false) }, $gte: function (a, b) { return Comparators.gt(a, b, true) }, $lt: function (a, b) { return Comparators.lt(a, b, false) }, $lte: function (a, b) { return Comparators.lt(a, b, true) }, $jgt: function (a, b) { return a > b }, $jgte: function (a, b) { return a >= b }, $jlt: function (a, b) { return a < b }, $jlte: function (a, b) { return a <= b }, $between: function (a, vals) { if (a === undefined || a === null) return false; return Comparators.gt(a, vals[0], true) && Comparators.lt(a, vals[1], true) }, $jbetween: function (a, vals) { if (a === undefined || a === null) return false; return a >= vals[0] && a <= vals[1] }, $in: function (a, b) { return b.indexOf(a) !== -1 }, $nin: function (a, b) { return b.indexOf(a) === -1 }, $keyin: function (a, b) { return a in b }, $nkeyin: function (a, b) { return !(a in b) }, $definedin: function (a, b) { return b[a] !== undefined }, $undefinedin: function (a, b) { return b[a] === undefined }, $regex: function (a, b) { return b.test(a) }, $containsString: function (a, b) { return typeof a === \"string\" && a.indexOf(b) !== -1 }, $containsNone: function (a, b) { return !LokiOps.$containsAny(a, b) }, $containsAny: function (a, b) { var checkFn = containsCheckFn(a); if (checkFn !== null) { return Array.isArray(b) ? b.some(checkFn) : checkFn(b) } return false }, $contains: function (a, b) { var checkFn = containsCheckFn(a); if (checkFn !== null) { return Array.isArray(b) ? b.every(checkFn) : checkFn(b) } return false }, $type: function (a, b) { var type = typeof a; if (type === \"object\") { if (Array.isArray(a)) { type = \"array\" } else if (a instanceof Date) { type = \"date\" } } return typeof b !== \"object\" ? type === b : doQueryOp(type, b) }, $finite: function (a, b) { return b === isFinite(a) }, $size: function (a, b) { if (Array.isArray(a)) { return typeof b !== \"object\" ? a.length === b : doQueryOp(a.length, b) } return false }, $len: function (a, b) { if (typeof a === \"string\") { return typeof b !== \"object\" ? a.length === b : doQueryOp(a.length, b) } return false }, $where: function (a, b) { return b(a) === true }, $not: function (a, b) { return !doQueryOp(a, b) }, $and: function (a, b) { for (var idx = 0, len = b.length; idx < len; idx += 1) { if (!doQueryOp(a, b[idx])) { return false } } return true }, $or: function (a, b) { for (var idx = 0, len = b.length; idx < len; idx += 1) { if (doQueryOp(a, b[idx])) { return true } } return false } }; var indexedOps = { $eq: LokiOps.$eq, $aeq: true, $dteq: true, $gt: true, $gte: true, $lt: true, $lte: true, $in: true, $between: true }; function clone(data, method) { if (data === null || data === undefined) { return null } var cloneMethod = method || \"parse-stringify\", cloned; switch (cloneMethod) { case \"parse-stringify\": cloned = JSON.parse(JSON.stringify(data)); break; case \"jquery-extend-deep\": cloned = jQuery.extend(true, {}, data); break; case \"shallow\": cloned = Object.create(data.constructor.prototype); Object.keys(data).map(function (i) { cloned[i] = data[i] }); break; case \"shallow-assign\": cloned = Object.create(data.constructor.prototype); Object.assign(cloned, data); break; case \"shallow-recurse-objects\": cloned = clone(data, \"shallow\"); var keys = Object.keys(data); keys.forEach(function (key) { if (typeof data[key] === \"object\" && data[key].constructor.name === \"Object\") { cloned[key] = clone(data[key], \"shallow-recurse-objects\") } else if (Array.isArray(data[key])) { cloned[key] = cloneObjectArray(data[key], \"shallow-recurse-objects\") } }); break; default: break }return cloned } function cloneObjectArray(objarray, method) { if (method == \"parse-stringify\") { return clone(objarray, method) } var result = []; for (var i = 0, len = objarray.length; i < len; i++) { result[i] = clone(objarray[i], method) } return result } function localStorageAvailable() { try { return window && window.localStorage !== undefined && window.localStorage !== null } catch (e) { return false } } function LokiEventEmitter() { } LokiEventEmitter.prototype.events = {}; LokiEventEmitter.prototype.asyncListeners = false; LokiEventEmitter.prototype.on = function (eventName, listener) { var event; var self = this; if (Array.isArray(eventName)) { eventName.forEach(function (currentEventName) { self.on(currentEventName, listener) }); return listener } event = this.events[eventName]; if (!event) { event = this.events[eventName] = [] } event.push(listener); return listener }; LokiEventEmitter.prototype.emit = function (eventName) { var self = this; var selfArgs = Array.prototype.slice.call(arguments, 1); if (eventName && this.events[eventName]) { this.events[eventName].forEach(function (listener) { if (self.asyncListeners) { setTimeout(function () { listener.apply(self, selfArgs) }, 1) } else { listener.apply(self, selfArgs) } }) } else { throw new Error(\"No event \" + eventName + \" defined\") } }; LokiEventEmitter.prototype.addListener = LokiEventEmitter.prototype.on; LokiEventEmitter.prototype.removeListener = function (eventName, listener) { var self = this; if (Array.isArray(eventName)) { eventName.forEach(function (currentEventName) { self.removeListener(currentEventName, listener) }); return } if (this.events[eventName]) { var listeners = this.events[eventName]; listeners.splice(listeners.indexOf(listener), 1) } }; function Loki(filename, options) { this.filename = filename || \"loki.db\"; this.collections = []; this.databaseVersion = 1.5; this.engineVersion = 1.5; this.autosave = false; this.autosaveInterval = 5e3; this.autosaveHandle = null; this.throttledSaves = true; this.options = {}; this.persistenceMethod = null; this.persistenceAdapter = null; this.throttledSavePending = false; this.throttledCallbacks = []; this.verbose = options && options.hasOwnProperty(\"verbose\") ? options.verbose : false; this.events = { init: [], loaded: [], flushChanges: [], close: [], changes: [], warning: [] }; var getENV = function () { if (typeof global !== \"undefined\" && (global.android || global.NSObject)) { return \"NATIVESCRIPT\" } if (typeof window === \"undefined\") { return \"NODEJS\" } if (typeof global !== \"undefined\" && global.window && process) { return \"NODEJS\" } if (typeof document !== \"undefined\") { if (document.URL.indexOf(\"http://\") === -1 && document.URL.indexOf(\"https://\") === -1) { return \"CORDOVA\" } return \"BROWSER\" } return \"CORDOVA\" }; if (options && options.hasOwnProperty(\"env\")) { this.ENV = options.env } else { this.ENV = getENV() } if (this.ENV === \"undefined\") { this.ENV = \"NODEJS\" } this.configureOptions(options, true); this.on(\"init\", this.clearChanges) } Loki.prototype = new LokiEventEmitter; Loki.prototype.constructor = Loki; Loki.prototype.getIndexedAdapter = function () { var adapter; if (typeof require === \"function\") { adapter = require(\"./loki-indexed-adapter.js\") } return adapter }; Loki.prototype.configureOptions = function (options, initialConfig) { var defaultPersistence = { NODEJS: \"fs\", BROWSER: \"localStorage\", CORDOVA: \"localStorage\", MEMORY: \"memory\" }, persistenceMethods = { fs: LokiFsAdapter, localStorage: LokiLocalStorageAdapter, memory: LokiMemoryAdapter }; this.options = {}; this.persistenceMethod = null; this.persistenceAdapter = null; if (typeof options !== \"undefined\") { this.options = options; if (this.options.hasOwnProperty(\"persistenceMethod\")) { if (typeof persistenceMethods[options.persistenceMethod] == \"function\") { this.persistenceMethod = options.persistenceMethod; this.persistenceAdapter = new persistenceMethods[options.persistenceMethod] } } if (this.options.hasOwnProperty(\"adapter\")) { this.persistenceMethod = \"adapter\"; this.persistenceAdapter = options.adapter; this.options.adapter = null } if (options.autoload && initialConfig) { var self = this; setTimeout(function () { self.loadDatabase(options, options.autoloadCallback) }, 1) } if (this.options.hasOwnProperty(\"autosaveInterval\")) { this.autosaveDisable(); this.autosaveInterval = parseInt(this.options.autosaveInterval, 10) } if (this.options.hasOwnProperty(\"autosave\") && this.options.autosave) { this.autosaveDisable(); this.autosave = true; if (this.options.hasOwnProperty(\"autosaveCallback\")) { this.autosaveEnable(options, options.autosaveCallback) } else { this.autosaveEnable() } } if (this.options.hasOwnProperty(\"throttledSaves\")) { this.throttledSaves = this.options.throttledSaves } } if (!this.options.hasOwnProperty(\"serializationMethod\")) { this.options.serializationMethod = \"normal\" } if (!this.options.hasOwnProperty(\"destructureDelimiter\")) { this.options.destructureDelimiter = \"$<\\n\" } if (this.persistenceAdapter === null) { this.persistenceMethod = defaultPersistence[this.ENV]; if (this.persistenceMethod) { this.persistenceAdapter = new persistenceMethods[this.persistenceMethod] } } }; Loki.prototype.copy = function (options) { var databaseCopy = new Loki(this.filename, { env: \"NA\" }); var clen, idx; options = options || {}; databaseCopy.loadJSONObject(this, { retainDirtyFlags: true }); if (options.hasOwnProperty(\"removeNonSerializable\") && options.removeNonSerializable === true) { databaseCopy.autosaveHandle = null; databaseCopy.persistenceAdapter = null; clen = databaseCopy.collections.length; for (idx = 0; idx < clen; idx++) { databaseCopy.collections[idx].constraints = null; databaseCopy.collections[idx].ttl = null } } return databaseCopy }; Loki.prototype.addCollection = function (name, options) { var i, len = this.collections.length; if (options && options.disableMeta === true) { if (options.disableChangesApi === false) { throw new Error(\"disableMeta option cannot be passed as true when disableChangesApi is passed as false\") } if (options.disableDeltaChangesApi === false) { throw new Error(\"disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false\") } if (typeof options.ttl === \"number\" && options.ttl > 0) { throw new Error(\"disableMeta option cannot be passed as true when ttl is enabled\") } } for (i = 0; i < len; i += 1) { if (this.collections[i].name === name) { return this.collections[i] } } var collection = new Collection(name, options); this.collections.push(collection); if (this.verbose) collection.console = console; return collection }; Loki.prototype.loadCollection = function (collection) { if (!collection.name) { throw new Error(\"Collection must have a name property to be loaded\") } this.collections.push(collection) }; Loki.prototype.getCollection = function (collectionName) { var i, len = this.collections.length; for (i = 0; i < len; i += 1) { if (this.collections[i].name === collectionName) { return this.collections[i] } } this.emit(\"warning\", \"collection \" + collectionName + \" not found\"); return null }; Loki.prototype.renameCollection = function (oldName, newName) { var c = this.getCollection(oldName); if (c) { c.name = newName } return c }; Loki.prototype.listCollections = function () { var i = this.collections.length, colls = []; while (i--) { colls.push({ name: this.collections[i].name, type: this.collections[i].objType, count: this.collections[i].data.length }) } return colls }; Loki.prototype.removeCollection = function (collectionName) { var i, len = this.collections.length; for (i = 0; i < len; i += 1) { if (this.collections[i].name === collectionName) { var tmpcol = new Collection(collectionName, {}); var curcol = this.collections[i]; for (var prop in curcol) { if (curcol.hasOwnProperty(prop) && tmpcol.hasOwnProperty(prop)) { curcol[prop] = tmpcol[prop] } } this.collections.splice(i, 1); return } } }; Loki.prototype.getName = function () { return this.name }; Loki.prototype.serializeReplacer = function (key, value) { switch (key) { case \"autosaveHandle\": case \"persistenceAdapter\": case \"constraints\": case \"ttl\": return null; case \"throttledSavePending\": case \"throttledCallbacks\": return undefined; default: return value } }; Loki.prototype.serialize = function (options) { options = options || {}; if (!options.hasOwnProperty(\"serializationMethod\")) { options.serializationMethod = this.options.serializationMethod } switch (options.serializationMethod) { case \"normal\": return JSON.stringify(this, this.serializeReplacer); case \"pretty\": return JSON.stringify(this, this.serializeReplacer, 2); case \"destructured\": return this.serializeDestructured(); default: return JSON.stringify(this, this.serializeReplacer) } }; Loki.prototype.toJson = Loki.prototype.serialize; Loki.prototype.serializeDestructured = function (options) { var idx, sidx, result, resultlen; var reconstruct = []; var dbcopy; options = options || {}; if (!options.hasOwnProperty(\"partitioned\")) { options.partitioned = false } if (!options.hasOwnProperty(\"delimited\")) { options.delimited = true } if (!options.hasOwnProperty(\"delimiter\")) { options.delimiter = this.options.destructureDelimiter } if (options.partitioned === true && options.hasOwnProperty(\"partition\") && options.partition >= 0) { return this.serializeCollection({ delimited: options.delimited, delimiter: options.delimiter, collectionIndex: options.partition }) } dbcopy = new Loki(this.filename); dbcopy.loadJSONObject(this); for (idx = 0; idx < dbcopy.collections.length; idx++) { dbcopy.collections[idx].data = [] } if (options.partitioned === true && options.partition === -1) { return dbcopy.serialize({ serializationMethod: \"normal\" }) } reconstruct.push(dbcopy.serialize({ serializationMethod: \"normal\" })); dbcopy = null; for (idx = 0; idx < this.collections.length; idx++) { result = this.serializeCollection({ delimited: options.delimited, delimiter: options.delimiter, collectionIndex: idx }); if (options.partitioned === false && options.delimited === false) { if (!Array.isArray(result)) { throw new Error(\"a nondelimited, non partitioned collection serialization did not return an expected array\") } resultlen = result.length; for (sidx = 0; sidx < resultlen; sidx++) { reconstruct.push(result[sidx]); result[sidx] = null } reconstruct.push(\"\") } else { reconstruct.push(result) } } if (options.partitioned) { if (options.delimited) { return reconstruct } else { return reconstruct } } else { if (options.delimited) { reconstruct.push(\"\"); return reconstruct.join(options.delimiter) } else { reconstruct.push(\"\"); return reconstruct } } reconstruct.push(\"\"); return reconstruct.join(delim) }; Loki.prototype.serializeCollection = function (options) { var doccount, docidx, resultlines = []; options = options || {}; if (!options.hasOwnProperty(\"delimited\")) { options.delimited = true } if (!options.hasOwnProperty(\"collectionIndex\")) { throw new Error(\"serializeCollection called without 'collectionIndex' option\") } doccount = this.collections[options.collectionIndex].data.length; resultlines = []; for (docidx = 0; docidx < doccount; docidx++) { resultlines.push(JSON.stringify(this.collections[options.collectionIndex].data[docidx])) } if (options.delimited) { resultlines.push(\"\"); return resultlines.join(options.delimiter) } else { return resultlines } }; Loki.prototype.deserializeDestructured = function (destructuredSource, options) { var workarray = []; var len, cdb; var idx, collIndex = 0, collCount, lineIndex = 1, done = false; var currLine, currObject; options = options || {}; if (!options.hasOwnProperty(\"partitioned\")) { options.partitioned = false } if (!options.hasOwnProperty(\"delimited\")) { options.delimited = true } if (!options.hasOwnProperty(\"delimiter\")) { options.delimiter = this.options.destructureDelimiter } if (options.partitioned) { if (options.hasOwnProperty(\"partition\")) { if (options.partition === -1) { cdb = JSON.parse(destructuredSource[0]); return cdb } return this.deserializeCollection(destructuredSource[options.partition + 1], options) } cdb = JSON.parse(destructuredSource[0]); collCount = cdb.collections.length; for (collIndex = 0; collIndex < collCount; collIndex++) { cdb.collections[collIndex].data = this.deserializeCollection(destructuredSource[collIndex + 1], options) } return cdb } if (options.delimited) { workarray = destructuredSource.split(options.delimiter); destructuredSource = null; len = workarray.length; if (len === 0) { return null } } else { workarray = destructuredSource } cdb = JSON.parse(workarray[0]); collCount = cdb.collections.length; workarray[0] = null; while (!done) { currLine = workarray[lineIndex]; if (workarray[lineIndex] === \"\") { if (++collIndex > collCount) { done = true } } else { currObject = JSON.parse(workarray[lineIndex]); cdb.collections[collIndex].data.push(currObject) } workarray[lineIndex++] = null } return cdb }; Loki.prototype.deserializeCollection = function (destructuredSource, options) { var workarray = []; var idx, len; options = options || {}; if (!options.hasOwnProperty(\"partitioned\")) { options.partitioned = false } if (!options.hasOwnProperty(\"delimited\")) { options.delimited = true } if (!options.hasOwnProperty(\"delimiter\")) { options.delimiter = this.options.destructureDelimiter } if (options.delimited) { workarray = destructuredSource.split(options.delimiter); workarray.pop() } else { workarray = destructuredSource } len = workarray.length; for (idx = 0; idx < len; idx++) { workarray[idx] = JSON.parse(workarray[idx]) } return workarray }; Loki.prototype.loadJSON = function (serializedDb, options) { var dbObject; if (serializedDb.length === 0) { dbObject = {} } else { switch (this.options.serializationMethod) { case \"normal\": case \"pretty\": dbObject = JSON.parse(serializedDb); break; case \"destructured\": dbObject = this.deserializeDestructured(serializedDb); break; default: dbObject = JSON.parse(serializedDb); break } } this.loadJSONObject(dbObject, options) }; Loki.prototype.loadJSONObject = function (dbObject, options) { var i = 0, len = dbObject.collections ? dbObject.collections.length : 0, coll, copyColl, clen, j, loader, collObj; this.name = dbObject.name; if (dbObject.hasOwnProperty(\"throttledSaves\") && options && !options.hasOwnProperty(\"throttledSaves\")) { this.throttledSaves = dbObject.throttledSaves } this.collections = []; function makeLoader(coll) { var collOptions = options[coll.name]; var inflater; if (collOptions.proto) { inflater = collOptions.inflate || Utils.copyProperties; return function (data) { var collObj = new collOptions.proto; inflater(data, collObj); return collObj } } return collOptions.inflate } for (i; i < len; i += 1) { coll = dbObject.collections[i]; copyColl = this.addCollection(coll.name, { disableChangesApi: coll.disableChangesApi, disableDeltaChangesApi: coll.disableDeltaChangesApi, disableMeta: coll.disableMeta }); copyColl.adaptiveBinaryIndices = coll.hasOwnProperty(\"adaptiveBinaryIndices\") ? coll.adaptiveBinaryIndices === true : false; copyColl.transactional = coll.transactional; copyColl.asyncListeners = coll.asyncListeners; copyColl.cloneObjects = coll.cloneObjects; copyColl.cloneMethod = coll.cloneMethod || \"parse-stringify\"; copyColl.autoupdate = coll.autoupdate; copyColl.changes = coll.changes; if (options && options.retainDirtyFlags === true) { copyColl.dirty = coll.dirty } else { copyColl.dirty = false } clen = coll.data.length; j = 0; if (options && options.hasOwnProperty(coll.name)) { loader = makeLoader(coll); for (j; j < clen; j++) { collObj = loader(coll.data[j]); copyColl.data[j] = collObj; copyColl.addAutoUpdateObserver(collObj) } } else { for (j; j < clen; j++) { copyColl.data[j] = coll.data[j]; copyColl.addAutoUpdateObserver(copyColl.data[j]) } } copyColl.maxId = typeof coll.maxId === \"undefined\" ? 0 : coll.maxId; copyColl.idIndex = coll.idIndex; if (typeof coll.binaryIndices !== \"undefined\") { copyColl.binaryIndices = coll.binaryIndices } if (typeof coll.transforms !== \"undefined\") { copyColl.transforms = coll.transforms } copyColl.ensureId(); copyColl.uniqueNames = []; if (coll.hasOwnProperty(\"uniqueNames\")) { copyColl.uniqueNames = coll.uniqueNames; for (j = 0; j < copyColl.uniqueNames.length; j++) { copyColl.ensureUniqueIndex(copyColl.uniqueNames[j]) } } if (typeof coll.DynamicViews === \"undefined\") continue; for (var idx = 0; idx < coll.DynamicViews.length; idx++) { var colldv = coll.DynamicViews[idx]; var dv = copyColl.addDynamicView(colldv.name, colldv.options); dv.resultdata = colldv.resultdata; dv.resultsdirty = colldv.resultsdirty; dv.filterPipeline = colldv.filterPipeline; dv.sortCriteria = colldv.sortCriteria; dv.sortFunction = null; dv.sortDirty = colldv.sortDirty; dv.resultset.filteredrows = colldv.resultset.filteredrows; dv.resultset.filterInitialized = colldv.resultset.filterInitialized; dv.rematerialize({ removeWhereFilters: true }) } if (dbObject.databaseVersion < 1.5) { copyColl.ensureAllIndexes(true); copyColl.dirty = true } } }; Loki.prototype.close = function (callback) { if (this.autosave) { this.autosaveDisable(); if (this.autosaveDirty()) { this.saveDatabase(callback); callback = undefined } } if (callback) { this.on(\"close\", callback) } this.emit(\"close\") }; Loki.prototype.generateChangesNotification = function (arrayOfCollectionNames) { function getCollName(coll) { return coll.name } var changes = [], selectedCollections = arrayOfCollectionNames || this.collections.map(getCollName); this.collections.forEach(function (coll) { if (selectedCollections.indexOf(getCollName(coll)) !== -1) { changes = changes.concat(coll.getChanges()) } }); return changes }; Loki.prototype.serializeChanges = function (collectionNamesArray) { return JSON.stringify(this.generateChangesNotification(collectionNamesArray)) }; Loki.prototype.clearChanges = function () { this.collections.forEach(function (coll) { if (coll.flushChanges) { coll.flushChanges() } }) }; function LokiMemoryAdapter(options) { this.hashStore = {}; this.options = options || {}; if (!this.options.hasOwnProperty(\"asyncResponses\")) { this.options.asyncResponses = false } if (!this.options.hasOwnProperty(\"asyncTimeout\")) { this.options.asyncTimeout = 50 } } LokiMemoryAdapter.prototype.loadDatabase = function (dbname, callback) { var self = this; if (this.options.asyncResponses) { setTimeout(function () { if (self.hashStore.hasOwnProperty(dbname)) { callback(self.hashStore[dbname].value) } else { callback(null) } }, this.options.asyncTimeout) } else { if (this.hashStore.hasOwnProperty(dbname)) { callback(this.hashStore[dbname].value) } else { callback(null) } } }; LokiMemoryAdapter.prototype.saveDatabase = function (dbname, dbstring, callback) { var self = this; var saveCount; if (this.options.asyncResponses) { setTimeout(function () { saveCount = self.hashStore.hasOwnProperty(dbname) ? self.hashStore[dbname].savecount : 0; self.hashStore[dbname] = { savecount: saveCount + 1, lastsave: new Date, value: dbstring }; callback() }, this.options.asyncTimeout) } else { saveCount = this.hashStore.hasOwnProperty(dbname) ? this.hashStore[dbname].savecount : 0; this.hashStore[dbname] = { savecount: saveCount + 1, lastsave: new Date, value: dbstring }; callback() } }; LokiMemoryAdapter.prototype.deleteDatabase = function (dbname, callback) { if (this.hashStore.hasOwnProperty(dbname)) { delete this.hashStore[dbname] } if (typeof callback === \"function\") { callback() } }; function LokiPartitioningAdapter(adapter, options) { this.mode = \"reference\"; this.adapter = null; this.options = options || {}; this.dbref = null; this.dbname = \"\"; this.pageIterator = {}; if (adapter) { if (adapter.mode === \"reference\") { throw new Error(\"LokiPartitioningAdapter cannot be instantiated with a reference mode adapter\") } else { this.adapter = adapter } } else { throw new Error(\"LokiPartitioningAdapter requires a (non-reference mode) adapter on construction\") } if (!this.options.hasOwnProperty(\"paging\")) { this.options.paging = false } if (!this.options.hasOwnProperty(\"pageSize\")) { this.options.pageSize = 25 * 1024 * 1024 } if (!this.options.hasOwnProperty(\"delimiter\")) { this.options.delimiter = \"$<\\n\" } } LokiPartitioningAdapter.prototype.loadDatabase = function (dbname, callback) { var self = this; this.dbname = dbname; this.dbref = new Loki(dbname); this.adapter.loadDatabase(dbname, function (result) { if (!result) { callback(result); return } if (typeof result !== \"string\") { callback(new Error(\"LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()\")) } var db = JSON.parse(result); self.dbref.loadJSONObject(db); db = null; var clen = self.dbref.collections.length; if (self.dbref.collections.length === 0) { callback(self.dbref); return } self.pageIterator = { collection: 0, pageIndex: 0 }; self.loadNextPartition(0, function () { callback(self.dbref) }) }) }; LokiPartitioningAdapter.prototype.loadNextPartition = function (partition, callback) { var keyname = this.dbname + \".\" + partition; var self = this; if (this.options.paging === true) { this.pageIterator.pageIndex = 0; this.loadNextPage(callback); return } this.adapter.loadDatabase(keyname, function (result) { var data = self.dbref.deserializeCollection(result, { delimited: true, collectionIndex: partition }); self.dbref.collections[partition].data = data; if (++partition < self.dbref.collections.length) { self.loadNextPartition(partition, callback) } else { callback() } }) }; LokiPartitioningAdapter.prototype.loadNextPage = function (callback) { var keyname = this.dbname + \".\" + this.pageIterator.collection + \".\" + this.pageIterator.pageIndex; var self = this; this.adapter.loadDatabase(keyname, function (result) { var data = result.split(self.options.delimiter); result = \"\"; var dlen = data.length; var idx; var isLastPage = data[dlen - 1] === \"\"; if (isLastPage) { data.pop(); dlen = data.length; if (data[dlen - 1] === \"\" && dlen === 1) { data.pop(); dlen = data.length } } for (idx = 0; idx < dlen; idx++) { self.dbref.collections[self.pageIterator.collection].data.push(JSON.parse(data[idx])); data[idx] = null } data = []; if (isLastPage) { if (++self.pageIterator.collection < self.dbref.collections.length) { self.loadNextPartition(self.pageIterator.collection, callback) } else { callback() } } else { self.pageIterator.pageIndex++; self.loadNextPage(callback) } }) }; LokiPartitioningAdapter.prototype.exportDatabase = function (dbname, dbref, callback) { var self = this; var idx, clen = dbref.collections.length; this.dbref = dbref; this.dbname = dbname; this.dirtyPartitions = [-1]; for (idx = 0; idx < clen; idx++) { if (dbref.collections[idx].dirty) { this.dirtyPartitions.push(idx) } } this.saveNextPartition(function (err) { callback(err) }) }; LokiPartitioningAdapter.prototype.saveNextPartition = function (callback) { var self = this; var partition = this.dirtyPartitions.shift(); var keyname = this.dbname + (partition === -1 ? \"\" : \".\" + partition); if (this.options.paging && partition !== -1) { this.pageIterator = { collection: partition, docIndex: 0, pageIndex: 0 }; this.saveNextPage(function (err) { if (self.dirtyPartitions.length === 0) { callback(err) } else { self.saveNextPartition(callback) } }); return } var result = this.dbref.serializeDestructured({ partitioned: true, delimited: true, partition: partition }); this.adapter.saveDatabase(keyname, result, function (err) { if (err) { callback(err); return } if (self.dirtyPartitions.length === 0) { callback(null) } else { self.saveNextPartition(callback) } }) }; LokiPartitioningAdapter.prototype.saveNextPage = function (callback) { var self = this; var coll = this.dbref.collections[this.pageIterator.collection]; var keyname = this.dbname + \".\" + this.pageIterator.collection + \".\" + this.pageIterator.pageIndex; var pageLen = 0, cdlen = coll.data.length, delimlen = this.options.delimiter.length; var serializedObject = \"\", pageBuilder = \"\"; var doneWithPartition = false, doneWithPage = false; var pageSaveCallback = function (err) { pageBuilder = \"\"; if (err) { callback(err) } if (doneWithPartition) { callback(null) } else { self.pageIterator.pageIndex++; self.saveNextPage(callback) } }; if (coll.data.length === 0) { doneWithPartition = true } while (true) { if (!doneWithPartition) { serializedObject = JSON.stringify(coll.data[this.pageIterator.docIndex]); pageBuilder += serializedObject; pageLen += serializedObject.length; if (++this.pageIterator.docIndex >= cdlen) doneWithPartition = true } if (pageLen >= this.options.pageSize) doneWithPage = true; if (!doneWithPage || doneWithPartition) { pageBuilder += this.options.delimiter; pageLen += delimlen } if (doneWithPartition || doneWithPage) { this.adapter.saveDatabase(keyname, pageBuilder, pageSaveCallback); return } } }; function LokiFsAdapter() { try { this.fs = require(\"fs\") } catch (e) { this.fs = null } } LokiFsAdapter.prototype.loadDatabase = function loadDatabase(dbname, callback) { var self = this; this.fs.stat(dbname, function (err, stats) { if (!err && stats.isFile()) { self.fs.readFile(dbname, { encoding: \"utf8\" }, function readFileCallback(err, data) { if (err) { callback(new Error(err)) } else { callback(data) } }) } else { callback(null) } }) }; LokiFsAdapter.prototype.saveDatabase = function saveDatabase(dbname, dbstring, callback) { var self = this; var tmpdbname = dbname + \"~\"; this.fs.writeFile(tmpdbname, dbstring, function writeFileCallback(err) { if (err) { callback(new Error(err)) } else { self.fs.rename(tmpdbname, dbname, callback) } }) }; LokiFsAdapter.prototype.deleteDatabase = function deleteDatabase(dbname, callback) { this.fs.unlink(dbname, function deleteDatabaseCallback(err) { if (err) { callback(new Error(err)) } else { callback() } }) }; function LokiLocalStorageAdapter() { } LokiLocalStorageAdapter.prototype.loadDatabase = function loadDatabase(dbname, callback) { if (localStorageAvailable()) { callback(localStorage.getItem(dbname)) } else { callback(new Error(\"localStorage is not available\")) } }; LokiLocalStorageAdapter.prototype.saveDatabase = function saveDatabase(dbname, dbstring, callback) { if (localStorageAvailable()) { localStorage.setItem(dbname, dbstring); callback(null) } else { callback(new Error(\"localStorage is not available\")) } }\r\n            ; LokiLocalStorageAdapter.prototype.deleteDatabase = function deleteDatabase(dbname, callback) { if (localStorageAvailable()) { localStorage.removeItem(dbname); callback(null) } else { callback(new Error(\"localStorage is not available\")) } }; Loki.prototype.throttledSaveDrain = function (callback, options) { var self = this; var now = (new Date).getTime(); if (!this.throttledSaves) { callback(true) } options = options || {}; if (!options.hasOwnProperty(\"recursiveWait\")) { options.recursiveWait = true } if (!options.hasOwnProperty(\"recursiveWaitLimit\")) { options.recursiveWaitLimit = false } if (!options.hasOwnProperty(\"recursiveWaitLimitDuration\")) { options.recursiveWaitLimitDuration = 2e3 } if (!options.hasOwnProperty(\"started\")) { options.started = (new Date).getTime() } if (this.throttledSaves && this.throttledSavePending) { if (options.recursiveWait) { this.throttledCallbacks.push(function () { if (self.throttledSavePending) { if (options.recursiveWaitLimit && now - options.started > options.recursiveWaitLimitDuration) { callback(false); return } self.throttledSaveDrain(callback, options); return } else { callback(true); return } }) } else { this.throttledCallbacks.push(callback); return } } else { callback(true) } }; Loki.prototype.loadDatabaseInternal = function (options, callback) { var cFun = callback || function (err, data) { if (err) { throw err } }, self = this; if (this.persistenceAdapter !== null) { this.persistenceAdapter.loadDatabase(this.filename, function loadDatabaseCallback(dbString) { if (typeof dbString === \"string\") { var parseSuccess = false; try { self.loadJSON(dbString, options || {}); parseSuccess = true } catch (err) { cFun(err) } if (parseSuccess) { cFun(null); self.emit(\"loaded\", \"database \" + self.filename + \" loaded\") } } else { if (!dbString) { cFun(null); self.emit(\"loaded\", \"empty database \" + self.filename + \" loaded\"); return } if (dbString instanceof Error) { cFun(dbString); return } if (typeof dbString === \"object\") { self.loadJSONObject(dbString, options || {}); cFun(null); self.emit(\"loaded\", \"database \" + self.filename + \" loaded\"); return } cFun(\"unexpected adapter response : \" + dbString) } }) } else { cFun(new Error(\"persistenceAdapter not configured\")) } }; Loki.prototype.loadDatabase = function (options, callback) { var self = this; if (!this.throttledSaves) { this.loadDatabaseInternal(options, callback); return } this.throttledSaveDrain(function (success) { if (success) { self.throttledSavePending = true; self.loadDatabaseInternal(options, function (err) { if (self.throttledCallbacks.length === 0) { self.throttledSavePending = false } else { self.saveDatabase() } if (typeof callback === \"function\") { callback(err) } }); return } else { if (typeof callback === \"function\") { callback(new Error(\"Unable to pause save throttling long enough to read database\")) } } }, options) }; Loki.prototype.saveDatabaseInternal = function (callback) { var cFun = callback || function (err) { if (err) { throw err } return }, self = this; if (this.persistenceAdapter !== null) { if (this.persistenceAdapter.mode === \"reference\" && typeof this.persistenceAdapter.exportDatabase === \"function\") { this.persistenceAdapter.exportDatabase(this.filename, this.copy({ removeNonSerializable: true }), function exportDatabaseCallback(err) { self.autosaveClearFlags(); cFun(err) }) } else { self.autosaveClearFlags(); this.persistenceAdapter.saveDatabase(this.filename, self.serialize(), function saveDatabasecallback(err) { cFun(err) }) } } else { cFun(new Error(\"persistenceAdapter not configured\")) } }; Loki.prototype.saveDatabase = function (callback) { if (!this.throttledSaves) { this.saveDatabaseInternal(callback); return } if (this.throttledSavePending) { this.throttledCallbacks.push(callback); return } var localCallbacks = this.throttledCallbacks; this.throttledCallbacks = []; localCallbacks.unshift(callback); this.throttledSavePending = true; var self = this; this.saveDatabaseInternal(function (err) { self.throttledSavePending = false; localCallbacks.forEach(function (pcb) { if (typeof pcb === \"function\") { setTimeout(function () { pcb(err) }, 1) } }); if (self.throttledCallbacks.length > 0) { self.saveDatabase() } }) }; Loki.prototype.save = Loki.prototype.saveDatabase; Loki.prototype.deleteDatabase = function (options, callback) { var cFun = callback || function (err, data) { if (err) { throw err } }; if (typeof options === \"function\" && !callback) { cFun = options } if (this.persistenceAdapter !== null) { this.persistenceAdapter.deleteDatabase(this.filename, function deleteDatabaseCallback(err) { cFun(err) }) } else { cFun(new Error(\"persistenceAdapter not configured\")) } }; Loki.prototype.autosaveDirty = function () { for (var idx = 0; idx < this.collections.length; idx++) { if (this.collections[idx].dirty) { return true } } return false }; Loki.prototype.autosaveClearFlags = function () { for (var idx = 0; idx < this.collections.length; idx++) { this.collections[idx].dirty = false } }; Loki.prototype.autosaveEnable = function (options, callback) { this.autosave = true; var delay = 5e3, self = this; if (typeof this.autosaveInterval !== \"undefined\" && this.autosaveInterval !== null) { delay = this.autosaveInterval } this.autosaveHandle = setInterval(function autosaveHandleInterval() { if (self.autosaveDirty()) { self.saveDatabase(callback) } }, delay) }; Loki.prototype.autosaveDisable = function () { if (typeof this.autosaveHandle !== \"undefined\" && this.autosaveHandle !== null) { clearInterval(this.autosaveHandle); this.autosaveHandle = null } }; function Resultset(collection, options) { options = options || {}; this.collection = collection; this.filteredrows = []; this.filterInitialized = false; return this } Resultset.prototype.reset = function () { if (this.filteredrows.length > 0) { this.filteredrows = [] } this.filterInitialized = false; return this }; Resultset.prototype.toJSON = function () { var copy = this.copy(); copy.collection = null; return copy }; Resultset.prototype.limit = function (qty) { if (!this.filterInitialized && this.filteredrows.length === 0) { this.filteredrows = this.collection.prepareFullDocIndex() } var rscopy = new Resultset(this.collection); rscopy.filteredrows = this.filteredrows.slice(0, qty); rscopy.filterInitialized = true; return rscopy }; Resultset.prototype.offset = function (pos) { if (!this.filterInitialized && this.filteredrows.length === 0) { this.filteredrows = this.collection.prepareFullDocIndex() } var rscopy = new Resultset(this.collection); rscopy.filteredrows = this.filteredrows.slice(pos); rscopy.filterInitialized = true; return rscopy }; Resultset.prototype.copy = function () { var result = new Resultset(this.collection); if (this.filteredrows.length > 0) { result.filteredrows = this.filteredrows.slice() } result.filterInitialized = this.filterInitialized; return result }; Resultset.prototype.branch = Resultset.prototype.copy; Resultset.prototype.transform = function (transform, parameters) { var idx, step, rs = this; if (typeof transform === \"string\") { if (this.collection.transforms.hasOwnProperty(transform)) { transform = this.collection.transforms[transform] } } if (typeof transform !== \"object\" || !Array.isArray(transform)) { throw new Error(\"Invalid transform\") } if (typeof parameters !== \"undefined\") { transform = Utils.resolveTransformParams(transform, parameters) } for (idx = 0; idx < transform.length; idx++) { step = transform[idx]; switch (step.type) { case \"find\": rs.find(step.value); break; case \"where\": rs.where(step.value); break; case \"simplesort\": rs.simplesort(step.property, step.desc || step.options); break; case \"compoundsort\": rs.compoundsort(step.value); break; case \"sort\": rs.sort(step.value); break; case \"limit\": rs = rs.limit(step.value); break; case \"offset\": rs = rs.offset(step.value); break; case \"map\": rs = rs.map(step.value, step.dataOptions); break; case \"eqJoin\": rs = rs.eqJoin(step.joinData, step.leftJoinKey, step.rightJoinKey, step.mapFun, step.dataOptions); break; case \"mapReduce\": rs = rs.mapReduce(step.mapFunction, step.reduceFunction); break; case \"update\": rs.update(step.value); break; case \"remove\": rs.remove(); break; default: break } } return rs }; Resultset.prototype.sort = function (comparefun) { if (!this.filterInitialized && this.filteredrows.length === 0) { this.filteredrows = this.collection.prepareFullDocIndex() } var wrappedComparer = function (userComparer, data) { return function (a, b) { return userComparer(data[a], data[b]) } }(comparefun, this.collection.data); this.filteredrows.sort(wrappedComparer); return this }; Resultset.prototype.simplesort = function (propname, options) { var eff, targetEff = 10, dc = this.collection.data.length, frl = this.filteredrows.length, hasBinaryIndex = this.collection.binaryIndices.hasOwnProperty(propname); if (typeof options === \"undefined\" || options === false) { options = { desc: false } } if (options === true) { options = { desc: true } } if (frl === 0) { if (this.filterInitialized) { return this } if (this.collection.binaryIndices.hasOwnProperty(propname)) { this.collection.ensureIndex(propname); this.filteredrows = this.collection.binaryIndices[propname].values.slice(0); if (options.desc) { this.filteredrows.reverse() } return this } else { this.filteredrows = this.collection.prepareFullDocIndex() } } else { if (!options.disableIndexIntersect && hasBinaryIndex) { eff = dc / frl; if (options.useJavascriptSorting) { targetEff = 6 } if (eff <= targetEff || options.forceIndexIntersect) { var idx, fr = this.filteredrows; var io = {}; for (idx = 0; idx < frl; idx++) { io[fr[idx]] = true } var pv = this.collection.binaryIndices[propname].values; this.filteredrows = pv.filter(function (n) { return io[n] }); if (options.desc) { this.filteredrows.reverse() } return this } } } if (options.useJavascriptSorting) { return this.sort(function (obj1, obj2) { if (obj1[propname] === obj2[propname]) return 0; if (obj1[propname] > obj2[propname]) return 1; if (obj1[propname] < obj2[propname]) return -1 }) } var wrappedComparer = function (prop, desc, data) { var val1, val2, arr; return function (a, b) { if (~prop.indexOf(\".\")) { arr = prop.split(\".\"); val1 = arr.reduce(function (obj, i) { return obj && obj[i] || undefined }, data[a]); val2 = arr.reduce(function (obj, i) { return obj && obj[i] || undefined }, data[b]) } else { val1 = data[a][prop]; val2 = data[b][prop] } return sortHelper(val1, val2, desc) } }(propname, options.desc, this.collection.data); this.filteredrows.sort(wrappedComparer); return this }; Resultset.prototype.compoundsort = function (properties) { if (properties.length === 0) { throw new Error(\"Invalid call to compoundsort, need at least one property\") } var prop; if (properties.length === 1) { prop = properties[0]; if (Array.isArray(prop)) { return this.simplesort(prop[0], prop[1]) } return this.simplesort(prop, false) } for (var i = 0, len = properties.length; i < len; i += 1) { prop = properties[i]; if (!Array.isArray(prop)) { properties[i] = [prop, false] } } if (!this.filterInitialized && this.filteredrows.length === 0) { this.filteredrows = this.collection.prepareFullDocIndex() } var wrappedComparer = function (props, data) { return function (a, b) { return compoundeval(props, data[a], data[b]) } }(properties, this.collection.data); this.filteredrows.sort(wrappedComparer); return this }; Resultset.prototype.findOr = function (expressionArray) { var fr = null, fri = 0, frlen = 0, docset = [], idxset = [], idx = 0, origCount = this.count(); for (var ei = 0, elen = expressionArray.length; ei < elen; ei++) { fr = this.branch().find(expressionArray[ei]).filteredrows; frlen = fr.length; if (frlen === origCount) { return this } for (fri = 0; fri < frlen; fri++) { idx = fr[fri]; if (idxset[idx] === undefined) { idxset[idx] = true; docset.push(idx) } } } this.filteredrows = docset; this.filterInitialized = true; return this }; Resultset.prototype.$or = Resultset.prototype.findOr; Resultset.prototype.findAnd = function (expressionArray) { for (var i = 0, len = expressionArray.length; i < len; i++) { if (this.count() === 0) { return this } this.find(expressionArray[i]) } return this }; Resultset.prototype.$and = Resultset.prototype.findAnd; Resultset.prototype.find = function (query, firstOnly) { if (this.collection.data.length === 0) { this.filteredrows = []; this.filterInitialized = true; return this } var queryObject = query || \"getAll\", p, property, queryObjectOp, obj, operator, value, key, searchByIndex = false, result = [], filters = [], index = null; firstOnly = firstOnly || false; if (typeof queryObject === \"object\") { for (p in queryObject) { obj = {}; obj[p] = queryObject[p]; filters.push(obj); if (hasOwnProperty.call(queryObject, p)) { property = p; queryObjectOp = queryObject[p] } } if (filters.length > 1) { return this.find({ $and: filters }, firstOnly) } } if (!property || queryObject === \"getAll\") { if (firstOnly) { this.filteredrows = this.collection.data.length > 0 ? [0] : []; this.filterInitialized = true } return this } if (property === \"$and\" || property === \"$or\") { this[property](queryObjectOp); if (firstOnly && this.filteredrows.length > 1) { this.filteredrows = this.filteredrows.slice(0, 1) } return this } if (queryObjectOp === null || (typeof queryObjectOp !== \"object\" || queryObjectOp instanceof Date)) { operator = \"$eq\"; value = queryObjectOp } else if (typeof queryObjectOp === \"object\") { for (key in queryObjectOp) { if (hasOwnProperty.call(queryObjectOp, key)) { operator = key; value = queryObjectOp[key]; break } } } else { throw new Error(\"Do not know what you want to do.\") } if (operator === \"$regex\") { if (Array.isArray(value)) { value = new RegExp(value[0], value[1]) } else if (!(value instanceof RegExp)) { value = new RegExp(value) } } var usingDotNotation = property.indexOf(\".\") !== -1; var doIndexCheck = !usingDotNotation && !this.filterInitialized; if (doIndexCheck && this.collection.binaryIndices[property] && indexedOps[operator]) { if (this.collection.adaptiveBinaryIndices !== true) { this.collection.ensureIndex(property) } searchByIndex = true; index = this.collection.binaryIndices[property] } var fun = LokiOps[operator]; var t = this.collection.data; var i = 0, len = 0; var filter, rowIdx = 0; if (this.filterInitialized) { filter = this.filteredrows; len = filter.length; if (usingDotNotation) { property = property.split(\".\"); for (i = 0; i < len; i++) { rowIdx = filter[i]; if (dotSubScan(t[rowIdx], property, fun, value)) { result.push(rowIdx) } } } else { for (i = 0; i < len; i++) { rowIdx = filter[i]; if (fun(t[rowIdx][property], value)) { result.push(rowIdx) } } } } else { if (!searchByIndex) { len = t.length; if (usingDotNotation) { property = property.split(\".\"); for (i = 0; i < len; i++) { if (dotSubScan(t[i], property, fun, value)) { result.push(i); if (firstOnly) { this.filteredrows = result; this.filterInitialized = true; return this } } } } else { for (i = 0; i < len; i++) { if (fun(t[i][property], value)) { result.push(i); if (firstOnly) { this.filteredrows = result; this.filterInitialized = true; return this } } } } } else { var segm = this.collection.calculateRange(operator, property, value); if (operator !== \"$in\") { for (i = segm[0]; i <= segm[1]; i++) { if (indexedOps[operator] !== true) { if (indexedOps[operator](t[index.values[i]][property], value)) { result.push(index.values[i]); if (firstOnly) { this.filteredrows = result; this.filterInitialized = true; return this } } } else { result.push(index.values[i]); if (firstOnly) { this.filteredrows = result; this.filterInitialized = true; return this } } } } else { for (i = 0, len = segm.length; i < len; i++) { result.push(index.values[segm[i]]); if (firstOnly) { this.filteredrows = result; this.filterInitialized = true; return this } } } } } this.filteredrows = result; this.filterInitialized = true; return this }; Resultset.prototype.where = function (fun) { var viewFunction, result = []; if (\"function\" === typeof fun) { viewFunction = fun } else { throw new TypeError(\"Argument is not a stored view or a function\") } try { if (this.filterInitialized) { var j = this.filteredrows.length; while (j--) { if (viewFunction(this.collection.data[this.filteredrows[j]]) === true) { result.push(this.filteredrows[j]) } } this.filteredrows = result; return this } else { var k = this.collection.data.length; while (k--) { if (viewFunction(this.collection.data[k]) === true) { result.push(k) } } this.filteredrows = result; this.filterInitialized = true; return this } } catch (err) { throw err } }; Resultset.prototype.count = function () { if (this.filterInitialized) { return this.filteredrows.length } return this.collection.count() }; Resultset.prototype.data = function (options) { var result = [], data = this.collection.data, obj, len, i, method; options = options || {}; if (options.removeMeta && !options.forceClones) { options.forceClones = true; options.forceCloneMethod = options.forceCloneMethod || \"shallow\" } if (!this.collection.disableDeltaChangesApi) { options.forceClones = true; options.forceCloneMethod = \"parse-stringify\" } if (!this.filterInitialized) { if (this.filteredrows.length === 0) { if (this.collection.cloneObjects || options.forceClones) { len = data.length; method = options.forceCloneMethod || this.collection.cloneMethod; for (i = 0; i < len; i++) { obj = clone(data[i], method); if (options.removeMeta) { delete obj.$loki; delete obj.meta } result.push(obj) } return result } else { return data.slice() } } else { this.filterInitialized = true } } var fr = this.filteredrows; len = fr.length; if (this.collection.cloneObjects || options.forceClones) { method = options.forceCloneMethod || this.collection.cloneMethod; for (i = 0; i < len; i++) { obj = clone(data[fr[i]], method); if (options.removeMeta) { delete obj.$loki; delete obj.meta } result.push(obj) } } else { for (i = 0; i < len; i++) { result.push(data[fr[i]]) } } return result }; Resultset.prototype.update = function (updateFunction) { if (typeof updateFunction !== \"function\") { throw new TypeError(\"Argument is not a function\") } if (!this.filterInitialized && this.filteredrows.length === 0) { this.filteredrows = this.collection.prepareFullDocIndex() } var obj, len = this.filteredrows.length, rcd = this.collection.data; for (var idx = 0; idx < len; idx++) { if (this.collection.cloneObjects || !this.collection.disableDeltaChangesApi) { obj = clone(rcd[this.filteredrows[idx]], this.collection.cloneMethod); updateFunction(obj); this.collection.update(obj) } else { updateFunction(rcd[this.filteredrows[idx]]); this.collection.update(rcd[this.filteredrows[idx]]) } } return this }; Resultset.prototype.remove = function () { if (!this.filterInitialized && this.filteredrows.length === 0) { this.filteredrows = this.collection.prepareFullDocIndex() } this.collection.removeBatchByPositions(this.filteredrows); this.filteredrows = []; return this }; Resultset.prototype.mapReduce = function (mapFunction, reduceFunction) { try { return reduceFunction(this.data().map(mapFunction)) } catch (err) { throw err } }; Resultset.prototype.eqJoin = function (joinData, leftJoinKey, rightJoinKey, mapFun, dataOptions) { var leftData = [], leftDataLength, rightData = [], rightDataLength, key, result = [], leftKeyisFunction = typeof leftJoinKey === \"function\", rightKeyisFunction = typeof rightJoinKey === \"function\", joinMap = {}; leftData = this.data(dataOptions); leftDataLength = leftData.length; if (joinData instanceof Collection) { rightData = joinData.chain().data(dataOptions) } else if (joinData instanceof Resultset) { rightData = joinData.data(dataOptions) } else if (Array.isArray(joinData)) { rightData = joinData } else { throw new TypeError(\"joinData needs to be an array or result set\") } rightDataLength = rightData.length; for (var i = 0; i < rightDataLength; i++) { key = rightKeyisFunction ? rightJoinKey(rightData[i]) : rightData[i][rightJoinKey]; joinMap[key] = rightData[i] } if (!mapFun) { mapFun = function (left, right) { return { left: left, right: right } } } for (var j = 0; j < leftDataLength; j++) { key = leftKeyisFunction ? leftJoinKey(leftData[j]) : leftData[j][leftJoinKey]; result.push(mapFun(leftData[j], joinMap[key] || {})) } this.collection = new Collection(\"joinData\"); this.collection.insert(result); this.filteredrows = []; this.filterInitialized = false; return this }; Resultset.prototype.map = function (mapFun, dataOptions) { var data = this.data(dataOptions).map(mapFun); this.collection = new Collection(\"mappedData\"); this.collection.insert(data); this.filteredrows = []; this.filterInitialized = false; return this }; function DynamicView(collection, name, options) { this.collection = collection; this.name = name; this.rebuildPending = false; this.options = options || {}; if (!this.options.hasOwnProperty(\"persistent\")) { this.options.persistent = false } if (!this.options.hasOwnProperty(\"sortPriority\")) { this.options.sortPriority = \"passive\" } if (!this.options.hasOwnProperty(\"minRebuildInterval\")) { this.options.minRebuildInterval = 1 } this.resultset = new Resultset(collection); this.resultdata = []; this.resultsdirty = false; this.cachedresultset = null; this.filterPipeline = []; this.sortFunction = null; this.sortCriteria = null; this.sortCriteriaSimple = null; this.sortDirty = false; this.events = { rebuild: [] } } DynamicView.prototype = new LokiEventEmitter; DynamicView.prototype.rematerialize = function (options) { var fpl, fpi, idx; options = options || {}; this.resultdata = []; this.resultsdirty = true; this.resultset = new Resultset(this.collection); if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.sortDirty = true } if (options.hasOwnProperty(\"removeWhereFilters\")) { fpl = this.filterPipeline.length; fpi = fpl; while (fpi--) { if (this.filterPipeline[fpi].type === \"where\") { if (fpi !== this.filterPipeline.length - 1) { this.filterPipeline[fpi] = this.filterPipeline[this.filterPipeline.length - 1] } this.filterPipeline.length-- } } } var ofp = this.filterPipeline; this.filterPipeline = []; fpl = ofp.length; for (idx = 0; idx < fpl; idx++) { this.applyFind(ofp[idx].val) } this.data(); this.emit(\"rebuild\", this); return this }; DynamicView.prototype.branchResultset = function (transform, parameters) { var rs = this.resultset.branch(); if (typeof transform === \"undefined\") { return rs } return rs.transform(transform, parameters) }; DynamicView.prototype.toJSON = function () { var copy = new DynamicView(this.collection, this.name, this.options); copy.resultset = this.resultset; copy.resultdata = []; copy.resultsdirty = true; copy.filterPipeline = this.filterPipeline; copy.sortFunction = this.sortFunction; copy.sortCriteria = this.sortCriteria; copy.sortCriteriaSimple = this.sortCriteriaSimple || null; copy.sortDirty = this.sortDirty; copy.collection = null; return copy }; DynamicView.prototype.removeFilters = function (options) { options = options || {}; this.rebuildPending = false; this.resultset.reset(); this.resultdata = []; this.resultsdirty = true; this.cachedresultset = null; this.filterPipeline = []; this.sortFunction = null; this.sortCriteria = null; this.sortCriteriaSimple = null; this.sortDirty = false; if (options.queueSortPhase === true) { this.queueSortPhase() } }; DynamicView.prototype.applySort = function (comparefun) { this.sortFunction = comparefun; this.sortCriteria = null; this.sortCriteriaSimple = null; this.queueSortPhase(); return this }; DynamicView.prototype.applySimpleSort = function (propname, options) { this.sortCriteriaSimple = { propname: propname, options: options || false }; this.sortCriteria = null; this.sortFunction = null; this.queueSortPhase(); return this }; DynamicView.prototype.applySortCriteria = function (criteria) { this.sortCriteria = criteria; this.sortCriteriaSimple = null; this.sortFunction = null; this.queueSortPhase(); return this }; DynamicView.prototype.startTransaction = function () { this.cachedresultset = this.resultset.copy(); return this }; DynamicView.prototype.commit = function () { this.cachedresultset = null; return this }; DynamicView.prototype.rollback = function () { this.resultset = this.cachedresultset; if (this.options.persistent) { this.resultdata = this.resultset.data(); this.emit(\"rebuild\", this) } return this }; DynamicView.prototype._indexOfFilterWithId = function (uid) { if (typeof uid === \"string\" || typeof uid === \"number\") { for (var idx = 0, len = this.filterPipeline.length; idx < len; idx += 1) { if (uid === this.filterPipeline[idx].uid) { return idx } } } return -1 }; DynamicView.prototype._addFilter = function (filter) { this.filterPipeline.push(filter); this.resultset[filter.type](filter.val) }; DynamicView.prototype.reapplyFilters = function () { this.resultset.reset(); this.cachedresultset = null; if (this.options.persistent) { this.resultdata = []; this.resultsdirty = true } var filters = this.filterPipeline; this.filterPipeline = []; for (var idx = 0, len = filters.length; idx < len; idx += 1) { this._addFilter(filters[idx]) } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return this }; DynamicView.prototype.applyFilter = function (filter) { var idx = this._indexOfFilterWithId(filter.uid); if (idx >= 0) { this.filterPipeline[idx] = filter; return this.reapplyFilters() } this.cachedresultset = null; if (this.options.persistent) { this.resultdata = []; this.resultsdirty = true } this._addFilter(filter); if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return this }; DynamicView.prototype.applyFind = function (query, uid) { this.applyFilter({ type: \"find\", val: query, uid: uid }); return this }; DynamicView.prototype.applyWhere = function (fun, uid) { this.applyFilter({ type: \"where\", val: fun, uid: uid }); return this }; DynamicView.prototype.removeFilter = function (uid) { var idx = this._indexOfFilterWithId(uid); if (idx < 0) { throw new Error(\"Dynamic view does not contain a filter with ID: \" + uid) } this.filterPipeline.splice(idx, 1); this.reapplyFilters(); return this }; DynamicView.prototype.count = function () { if (this.resultsdirty) { this.resultdata = this.resultset.data() } return this.resultset.count() }; DynamicView.prototype.data = function (options) { if (this.sortDirty || this.resultsdirty) { this.performSortPhase({ suppressRebuildEvent: true }) } return this.options.persistent ? this.resultdata : this.resultset.data(options) }; DynamicView.prototype.queueRebuildEvent = function () { if (this.rebuildPending) { return } this.rebuildPending = true; var self = this; setTimeout(function () { if (self.rebuildPending) { self.rebuildPending = false; self.emit(\"rebuild\", self) } }, this.options.minRebuildInterval) }; DynamicView.prototype.queueSortPhase = function () { if (this.sortDirty) { return } this.sortDirty = true; var self = this; if (this.options.sortPriority === \"active\") { setTimeout(function () { self.performSortPhase() }, this.options.minRebuildInterval) } else { this.queueRebuildEvent() } }; DynamicView.prototype.performSortPhase = function (options) { if (!this.sortDirty && !this.resultsdirty) { return } options = options || {}; if (this.sortDirty) { if (this.sortFunction) { this.resultset.sort(this.sortFunction) } else if (this.sortCriteria) { this.resultset.compoundsort(this.sortCriteria) } else if (this.sortCriteriaSimple) { this.resultset.simplesort(this.sortCriteriaSimple.propname, this.sortCriteriaSimple.options) } this.sortDirty = false } if (this.options.persistent) { this.resultdata = this.resultset.data(); this.resultsdirty = false } if (!options.suppressRebuildEvent) { this.emit(\"rebuild\", this) } }; DynamicView.prototype.evaluateDocument = function (objIndex, isNew) { if (!this.resultset.filterInitialized) { if (this.options.persistent) { this.resultdata = this.resultset.data() } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return } var ofr = this.resultset.filteredrows; var oldPos = isNew ? -1 : ofr.indexOf(+objIndex); var oldlen = ofr.length; var evalResultset = new Resultset(this.collection); evalResultset.filteredrows = [objIndex]; evalResultset.filterInitialized = true; var filter; for (var idx = 0, len = this.filterPipeline.length; idx < len; idx++) { filter = this.filterPipeline[idx]; evalResultset[filter.type](filter.val) } var newPos = evalResultset.filteredrows.length === 0 ? -1 : 0; if (oldPos === -1 && newPos === -1) return; if (oldPos === -1 && newPos !== -1) { ofr.push(objIndex); if (this.options.persistent) { this.resultdata.push(this.collection.data[objIndex]) } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return } if (oldPos !== -1 && newPos === -1) { if (oldPos < oldlen - 1) { ofr.splice(oldPos, 1); if (this.options.persistent) { this.resultdata.splice(oldPos, 1) } } else { ofr.length = oldlen - 1; if (this.options.persistent) { this.resultdata.length = oldlen - 1 } } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return } if (oldPos !== -1 && newPos !== -1) { if (this.options.persistent) { this.resultdata[oldPos] = this.collection.data[objIndex] } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return } }; DynamicView.prototype.removeDocument = function (objIndex) { var idx, rmidx, rmlen, rxo = {}, fxo = {}; var adjels = []; var drs = this.resultset; var fr = this.resultset.filteredrows; var frlen = fr.length; if (!this.resultset.filterInitialized) { if (this.options.persistent) { this.resultdata = this.resultset.data() } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } return } if (!Array.isArray(objIndex)) { objIndex = [objIndex] } rmlen = objIndex.length; for (rmidx = 0; rmidx < rmlen; rmidx++) { rxo[objIndex[rmidx]] = true } for (idx = 0; idx < frlen; idx++) { if (rxo[fr[idx]]) fxo[idx] = true } if (Object.keys(fxo).length > 0) { this.resultset.filteredrows = this.resultset.filteredrows.filter(function (di, idx) { return !fxo[idx] }); if (this.options.persistent) { this.resultdata = this.resultdata.filter(function (obj, idx) { return !fxo[idx] }) } if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) { this.queueSortPhase() } else { this.queueRebuildEvent() } } var filt = function (idx) { return function (di) { return di < drs.filteredrows[idx] } }; frlen = drs.filteredrows.length; for (idx = 0; idx < frlen; idx++) { adjels = objIndex.filter(filt(idx)); drs.filteredrows[idx] -= adjels.length } }; DynamicView.prototype.mapReduce = function (mapFunction, reduceFunction) { try { return reduceFunction(this.data().map(mapFunction)) } catch (err) { throw err } }; function Collection(name, options) { this.name = name; this.data = []; this.idIndex = []; this.binaryIndices = {}; this.constraints = { unique: {}, exact: {} }; this.uniqueNames = []; this.transforms = {}; this.objType = name; this.dirty = true; this.cachedIndex = null; this.cachedBinaryIndex = null; this.cachedData = null; var self = this; options = options || {}; if (options.hasOwnProperty(\"unique\")) { if (!Array.isArray(options.unique)) { options.unique = [options.unique] } options.unique.forEach(function (prop) { self.uniqueNames.push(prop); self.constraints.unique[prop] = new UniqueIndex(prop) }) } if (options.hasOwnProperty(\"exact\")) { options.exact.forEach(function (prop) { self.constraints.exact[prop] = new ExactIndex(prop) }) } this.adaptiveBinaryIndices = options.hasOwnProperty(\"adaptiveBinaryIndices\") ? options.adaptiveBinaryIndices : true; this.transactional = options.hasOwnProperty(\"transactional\") ? options.transactional : false; this.cloneObjects = options.hasOwnProperty(\"clone\") ? options.clone : false; this.cloneMethod = options.hasOwnProperty(\"cloneMethod\") ? options.cloneMethod : \"parse-stringify\"; this.asyncListeners = options.hasOwnProperty(\"asyncListeners\") ? options.asyncListeners : false; this.disableMeta = options.hasOwnProperty(\"disableMeta\") ? options.disableMeta : false; this.disableChangesApi = options.hasOwnProperty(\"disableChangesApi\") ? options.disableChangesApi : true; this.disableDeltaChangesApi = options.hasOwnProperty(\"disableDeltaChangesApi\") ? options.disableDeltaChangesApi : true; if (this.disableChangesApi) { this.disableDeltaChangesApi = true } this.autoupdate = options.hasOwnProperty(\"autoupdate\") ? options.autoupdate : false; this.serializableIndices = options.hasOwnProperty(\"serializableIndices\") ? options.serializableIndices : true; this.ttl = { age: null, ttlInterval: null, daemon: null }; this.setTTL(options.ttl || -1, options.ttlInterval); this.maxId = 0; this.DynamicViews = []; this.events = { insert: [], update: [], \"pre-insert\": [], \"pre-update\": [], close: [], flushbuffer: [], error: [], delete: [], warning: [] }; this.changes = []; this.ensureId(); var indices = []; if (options && options.indices) { if (Object.prototype.toString.call(options.indices) === \"[object Array]\") { indices = options.indices } else if (typeof options.indices === \"string\") { indices = [options.indices] } else { throw new TypeError(\"Indices needs to be a string or an array of strings\") } } for (var idx = 0; idx < indices.length; idx++) { this.ensureIndex(indices[idx]) } function observerCallback(changes) { var changedObjects = typeof Set === \"function\" ? new Set : []; if (!changedObjects.add) changedObjects.add = function (object) { if (this.indexOf(object) === -1) this.push(object); return this }; changes.forEach(function (change) { changedObjects.add(change.object) }); changedObjects.forEach(function (object) { if (!hasOwnProperty.call(object, \"$loki\")) return self.removeAutoUpdateObserver(object); try { self.update(object) } catch (err) { } }) } this.observerCallback = observerCallback; function getChangeDelta(obj, old) { if (old) { return getObjectDelta(old, obj) } else { return JSON.parse(JSON.stringify(obj)) } } this.getChangeDelta = getChangeDelta; function getObjectDelta(oldObject, newObject) { var propertyNames = newObject !== null && typeof newObject === \"object\" ? Object.keys(newObject) : null; if (propertyNames && propertyNames.length && [\"string\", \"boolean\", \"number\"].indexOf(typeof newObject) < 0) { var delta = {}; for (var i = 0; i < propertyNames.length; i++) { var propertyName = propertyNames[i]; if (newObject.hasOwnProperty(propertyName)) { if (!oldObject.hasOwnProperty(propertyName) || self.uniqueNames.indexOf(propertyName) >= 0 || propertyName == \"$loki\" || propertyName == \"meta\") { delta[propertyName] = newObject[propertyName] } else { var propertyDelta = getObjectDelta(oldObject[propertyName], newObject[propertyName]); if (typeof propertyDelta !== \"undefined\" && propertyDelta != {}) { delta[propertyName] = propertyDelta } } } } return Object.keys(delta).length === 0 ? undefined : delta } else { return oldObject === newObject ? undefined : newObject } } this.getObjectDelta = getObjectDelta; function flushChanges() { self.changes = [] } this.getChanges = function () { return self.changes }; this.flushChanges = flushChanges; this.setChangesApi = function (enabled) { self.disableChangesApi = !enabled; if (!enabled) { self.disableDeltaChangesApi = false } }; this.on(\"delete\", function deleteCallback(obj) { if (!self.disableChangesApi) { self.createChange(self.name, \"R\", obj) } }); this.on(\"warning\", function (warning) { self.console.warn(warning) }); flushChanges() } Collection.prototype = new LokiEventEmitter; Collection.prototype.createChange = function (name, op, obj, old) {\r\n                this.changes.push({\r\n                    name: name, operation: op,\r\n                    obj: op == \"U\" && !this.disableDeltaChangesApi ? this.getChangeDelta(obj, old) : JSON.parse(JSON.stringify(obj))\r\n                })\r\n            }; Collection.prototype.insertMeta = function (obj) { var len, idx; if (this.disableMeta || !obj) { return } if (Array.isArray(obj)) { len = obj.length; for (idx = 0; idx < len; idx++) { if (!obj[idx].hasOwnProperty(\"meta\")) { obj[idx].meta = {} } obj[idx].meta.created = (new Date).getTime(); obj[idx].meta.revision = 0 } return } if (!obj.meta) { obj.meta = {} } obj.meta.created = (new Date).getTime(); obj.meta.revision = 0 }; Collection.prototype.updateMeta = function (obj) { if (this.disableMeta || !obj) { return } obj.meta.updated = (new Date).getTime(); obj.meta.revision += 1 }; Collection.prototype.createInsertChange = function (obj) { this.createChange(this.name, \"I\", obj) }; Collection.prototype.createUpdateChange = function (obj, old) { this.createChange(this.name, \"U\", obj, old) }; Collection.prototype.insertMetaWithChange = function (obj) { this.insertMeta(obj); this.createInsertChange(obj) }; Collection.prototype.updateMetaWithChange = function (obj, old) { this.updateMeta(obj); this.createUpdateChange(obj, old) }; Collection.prototype.console = { log: function () { }, warn: function () { }, error: function () { } }; Collection.prototype.addAutoUpdateObserver = function (object) { if (!this.autoupdate || typeof Object.observe !== \"function\") return; Object.observe(object, this.observerCallback, [\"add\", \"update\", \"delete\", \"reconfigure\", \"setPrototype\"]) }; Collection.prototype.removeAutoUpdateObserver = function (object) { if (!this.autoupdate || typeof Object.observe !== \"function\") return; Object.unobserve(object, this.observerCallback) }; Collection.prototype.addTransform = function (name, transform) { if (this.transforms.hasOwnProperty(name)) { throw new Error(\"a transform by that name already exists\") } this.transforms[name] = transform }; Collection.prototype.getTransform = function (name) { return this.transforms[name] }; Collection.prototype.setTransform = function (name, transform) { this.transforms[name] = transform }; Collection.prototype.removeTransform = function (name) { delete this.transforms[name] }; Collection.prototype.byExample = function (template) { var k, obj, query; query = []; for (k in template) { if (!template.hasOwnProperty(k)) continue; query.push((obj = {}, obj[k] = template[k], obj)) } return { $and: query } }; Collection.prototype.findObject = function (template) { return this.findOne(this.byExample(template)) }; Collection.prototype.findObjects = function (template) { return this.find(this.byExample(template)) }; Collection.prototype.ttlDaemonFuncGen = function () { var collection = this; var age = this.ttl.age; return function ttlDaemon() { var now = Date.now(); var toRemove = collection.chain().where(function daemonFilter(member) { var timestamp = member.meta.updated || member.meta.created; var diff = now - timestamp; return age < diff }); toRemove.remove() } }; Collection.prototype.setTTL = function (age, interval) { if (age < 0) { clearInterval(this.ttl.daemon) } else { this.ttl.age = age; this.ttl.ttlInterval = interval; this.ttl.daemon = setInterval(this.ttlDaemonFuncGen(), interval) } }; Collection.prototype.prepareFullDocIndex = function () { var len = this.data.length; var indexes = new Array(len); for (var i = 0; i < len; i += 1) { indexes[i] = i } return indexes }; Collection.prototype.configureOptions = function (options) { options = options || {}; if (options.hasOwnProperty(\"adaptiveBinaryIndices\")) { this.adaptiveBinaryIndices = options.adaptiveBinaryIndices; if (this.adaptiveBinaryIndices) { this.ensureAllIndexes() } } }; Collection.prototype.ensureIndex = function (property, force) { if (typeof force === \"undefined\") { force = false } if (property === null || property === undefined) { throw new Error(\"Attempting to set index without an associated property\") } if (this.binaryIndices[property] && !force) { if (!this.binaryIndices[property].dirty) return } if (this.adaptiveBinaryIndices === true && this.binaryIndices.hasOwnProperty(property) && !force) { return } var index = { name: property, dirty: true, values: this.prepareFullDocIndex() }; this.binaryIndices[property] = index; var wrappedComparer = function (prop, data) { var val1, val2, arr; return function (a, b) { if (~prop.indexOf(\".\")) { arr = prop.split(\".\"); val1 = arr.reduce(function (obj, i) { return obj && obj[i] || undefined }, data[a]); val2 = arr.reduce(function (obj, i) { return obj && obj[i] || undefined }, data[b]) } else { val1 = data[a][prop]; val2 = data[b][prop] } if (val1 !== val2) { if (Comparators.lt(val1, val2, false)) return -1; if (Comparators.gt(val1, val2, false)) return 1 } return 0 } }(property, this.data); index.values.sort(wrappedComparer); index.dirty = false; this.dirty = true }; Collection.prototype.checkAllIndexes = function (options) { var key, bIndices = this.binaryIndices; var results = [], result; for (key in bIndices) { if (hasOwnProperty.call(bIndices, key)) { result = this.checkIndex(key, options); if (!result) { results.push(key) } } } return results }; Collection.prototype.checkIndex = function (property, options) { options = options || {}; if (options.randomSamplingFactor && options.randomSampling !== false) { options.randomSampling = true } options.randomSamplingFactor = options.randomSamplingFactor || .1; if (options.randomSamplingFactor < 0 || options.randomSamplingFactor > 1) { options.randomSamplingFactor = .1 } var valid = true, idx, iter, pos, len, biv; if (!this.binaryIndices.hasOwnProperty(property)) { throw new Error(\"called checkIndex on property without an index: \" + property) } if (!this.adaptiveBinaryIndices) { this.ensureIndex(property) } biv = this.binaryIndices[property].values; len = biv.length; if (len !== this.data.length) { if (options.repair) { this.ensureIndex(property, true) } return false } if (len === 0) { return true } if (len === 1) { valid = biv[0] === 0 } else { if (options.randomSampling) { if (!LokiOps.$lte(this.data[biv[0]][property], this.data[biv[1]][property])) { valid = false } if (!LokiOps.$lte(this.data[biv[len - 2]][property], this.data[biv[len - 1]][property])) { valid = false } if (valid) { iter = Math.floor((len - 1) * options.randomSamplingFactor); for (idx = 0; idx < iter - 1; idx++) { pos = Math.floor(Math.random() * (len - 1)); if (!LokiOps.$lte(this.data[biv[pos]][property], this.data[biv[pos + 1]][property])) { valid = false; break } } } } else { for (idx = 0; idx < len - 1; idx++) { if (!LokiOps.$lte(this.data[biv[idx]][property], this.data[biv[idx + 1]][property])) { valid = false; break } } } } if (!valid && options.repair) { this.ensureIndex(property, true) } return valid }; Collection.prototype.getBinaryIndexValues = function (property) { var idx, idxvals = this.binaryIndices[property].values; var result = []; for (idx = 0; idx < idxvals.length; idx++) { result.push(this.data[idxvals[idx]][property]) } return result }; Collection.prototype.ensureUniqueIndex = function (field) { var index = this.constraints.unique[field]; if (!index) { if (this.uniqueNames.indexOf(field) == -1) { this.uniqueNames.push(field) } } this.constraints.unique[field] = index = new UniqueIndex(field); this.data.forEach(function (obj) { index.set(obj) }); return index }; Collection.prototype.ensureAllIndexes = function (force) { var key, bIndices = this.binaryIndices; for (key in bIndices) { if (hasOwnProperty.call(bIndices, key)) { this.ensureIndex(key, force) } } }; Collection.prototype.flagBinaryIndexesDirty = function () { var key, bIndices = this.binaryIndices; for (key in bIndices) { if (hasOwnProperty.call(bIndices, key)) { bIndices[key].dirty = true } } }; Collection.prototype.flagBinaryIndexDirty = function (index) { if (this.binaryIndices[index]) this.binaryIndices[index].dirty = true }; Collection.prototype.count = function (query) { if (!query) { return this.data.length } return this.chain().find(query).filteredrows.length }; Collection.prototype.ensureId = function () { var len = this.data.length, i = 0; this.idIndex = []; for (i; i < len; i += 1) { this.idIndex.push(this.data[i].$loki) } }; Collection.prototype.ensureIdAsync = function (callback) { this.async(function () { this.ensureId() }, callback) }; Collection.prototype.addDynamicView = function (name, options) { var dv = new DynamicView(this, name, options); this.DynamicViews.push(dv); return dv }; Collection.prototype.removeDynamicView = function (name) { this.DynamicViews = this.DynamicViews.filter(function (dv) { return dv.name !== name }) }; Collection.prototype.getDynamicView = function (name) { for (var idx = 0; idx < this.DynamicViews.length; idx++) { if (this.DynamicViews[idx].name === name) { return this.DynamicViews[idx] } } return null }; Collection.prototype.findAndUpdate = function (filterObject, updateFunction) { if (typeof filterObject === \"function\") { this.updateWhere(filterObject, updateFunction) } else { this.chain().find(filterObject).update(updateFunction) } }; Collection.prototype.findAndRemove = function (filterObject) { this.chain().find(filterObject).remove() }; Collection.prototype.insert = function (doc) { if (!Array.isArray(doc)) { return this.insertOne(doc) } var obj; var results = []; this.emit(\"pre-insert\", doc); for (var i = 0, len = doc.length; i < len; i++) { obj = this.insertOne(doc[i], true); if (!obj) { return undefined } results.push(obj) } this.emit(\"insert\", results); results = this.cloneObjects ? clone(results, this.cloneMethod) : results; return results.length === 1 ? results[0] : results }; Collection.prototype.insertOne = function (doc, bulkInsert) { var err = null; var returnObj; if (typeof doc !== \"object\") { err = new TypeError(\"Document needs to be an object\") } else if (doc === null) { err = new TypeError(\"Object cannot be null\") } if (err !== null) { this.emit(\"error\", err); throw err } var obj = this.cloneObjects ? clone(doc, this.cloneMethod) : doc; if (!this.disableMeta && typeof obj.meta === \"undefined\") { obj.meta = { revision: 0, created: 0 } } if (!bulkInsert) { this.emit(\"pre-insert\", obj) } if (!this.add(obj)) { return undefined } if (this.disableChangesApi) { this.insertMeta(obj) } else { this.insertMetaWithChange(obj) } returnObj = this.cloneObjects ? clone(obj, this.cloneMethod) : obj; if (!bulkInsert) { this.emit(\"insert\", returnObj) } this.addAutoUpdateObserver(returnObj); return returnObj }; Collection.prototype.clear = function (options) { var self = this; options = options || {}; this.data = []; this.idIndex = []; this.cachedIndex = null; this.cachedBinaryIndex = null; this.cachedData = null; this.maxId = 0; this.DynamicViews = []; this.dirty = true; if (options.removeIndices === true) { this.binaryIndices = {}; this.constraints = { unique: {}, exact: {} }; this.uniqueNames = [] } else { var keys = Object.keys(this.binaryIndices); keys.forEach(function (biname) { self.binaryIndices[biname].dirty = false; self.binaryIndices[biname].values = [] }); this.constraints = { unique: {}, exact: {} }; this.uniqueNames.forEach(function (uiname) { self.ensureUniqueIndex(uiname) }) } }; Collection.prototype.update = function (doc) { var adaptiveBatchOverride, k, len; if (Array.isArray(doc)) { len = doc.length; adaptiveBatchOverride = !this.cloneObjects && this.adaptiveBinaryIndices && Object.keys(this.binaryIndices).length > 0; if (adaptiveBatchOverride) { this.adaptiveBinaryIndices = false } try { for (k = 0; k < len; k += 1) { this.update(doc[k]) } } finally { if (adaptiveBatchOverride) { this.ensureAllIndexes(); this.adaptiveBinaryIndices = true } } return } if (!hasOwnProperty.call(doc, \"$loki\")) { throw new Error(\"Trying to update unsynced document. Please save the document first by using insert() or addMany()\") } try { this.startTransaction(); var arr = this.get(doc.$loki, true), oldInternal, newInternal, position, self = this; if (!arr) { throw new Error(\"Trying to update a document not in collection.\") } oldInternal = arr[0]; position = arr[1]; newInternal = this.cloneObjects || !this.disableDeltaChangesApi ? clone(doc, this.cloneMethod) : doc; this.emit(\"pre-update\", doc); Object.keys(this.constraints.unique).forEach(function (key) { self.constraints.unique[key].update(oldInternal, newInternal) }); this.data[position] = newInternal; if (newInternal !== doc) { this.addAutoUpdateObserver(doc) } for (var idx = 0; idx < this.DynamicViews.length; idx++) { this.DynamicViews[idx].evaluateDocument(position, false) } var key; if (this.adaptiveBinaryIndices) { var bIndices = this.binaryIndices; for (key in bIndices) { this.adaptiveBinaryIndexUpdate(position, key) } } else { this.flagBinaryIndexesDirty() } this.idIndex[position] = newInternal.$loki; this.commit(); this.dirty = true; if (this.disableChangesApi) { this.updateMeta(newInternal, null) } else { this.updateMetaWithChange(newInternal, oldInternal) } var returnObj; if (this.cloneObjects) { returnObj = clone(newInternal, this.cloneMethod) } else { returnObj = newInternal } this.emit(\"update\", returnObj, oldInternal); return returnObj } catch (err) { this.rollback(); this.console.error(err.message); this.emit(\"error\", err); throw err } }; Collection.prototype.add = function (obj) { if (\"object\" !== typeof obj) { throw new TypeError(\"Object being added needs to be an object\") } if (typeof obj.$loki !== \"undefined\") { throw new Error(\"Document is already in collection, please use update()\") } try { this.startTransaction(); this.maxId++; if (isNaN(this.maxId)) { this.maxId = this.data[this.data.length - 1].$loki + 1 } obj.$loki = this.maxId; if (!this.disableMeta) { obj.meta.version = 0 } var key, constrUnique = this.constraints.unique; for (key in constrUnique) { if (hasOwnProperty.call(constrUnique, key)) { constrUnique[key].set(obj) } } this.idIndex.push(obj.$loki); this.data.push(obj); var addedPos = this.data.length - 1; var dvlen = this.DynamicViews.length; for (var i = 0; i < dvlen; i++) { this.DynamicViews[i].evaluateDocument(addedPos, true) } if (this.adaptiveBinaryIndices) { var bIndices = this.binaryIndices; for (key in bIndices) { this.adaptiveBinaryIndexInsert(addedPos, key) } } else { this.flagBinaryIndexesDirty() } this.commit(); this.dirty = true; return this.cloneObjects ? clone(obj, this.cloneMethod) : obj } catch (err) { this.rollback(); this.console.error(err.message); this.emit(\"error\", err); throw err } }; Collection.prototype.updateWhere = function (filterFunction, updateFunction) { var results = this.where(filterFunction), i = 0, obj; try { for (i; i < results.length; i++) { obj = updateFunction(results[i]); this.update(obj) } } catch (err) { this.rollback(); this.console.error(err.message) } }; Collection.prototype.removeWhere = function (query) { var list; if (typeof query === \"function\") { list = this.data.filter(query); this.remove(list) } else { this.chain().find(query).remove() } }; Collection.prototype.removeDataOnly = function () { this.remove(this.data.slice()) }; Collection.prototype.removeBatchByPositions = function (positions) { var len = positions.length; var xo = {}; var dlen, didx, idx; var bic = Object.keys(this.binaryIndices).length; var uic = Object.keys(this.constraints.unique).length; var adaptiveOverride = this.adaptiveBinaryIndices && Object.keys(this.binaryIndices).length > 0; var doc, self = this; try { this.startTransaction(); for (idx = 0; idx < len; idx++) { xo[this.idIndex[positions[idx]]] = true } dlen = this.DynamicViews.length; if (dlen > 0 || bic > 0 || uic > 0) { if (dlen > 0) { for (didx = 0; didx < dlen; didx++) { this.DynamicViews[didx].removeDocument(positions) } } if (this.adaptiveBinaryIndices && !adaptiveOverride) { var key, bIndices = this.binaryIndices; for (key in bIndices) { this.adaptiveBinaryIndexRemove(positions, key) } } else { this.flagBinaryIndexesDirty() } if (uic) { Object.keys(this.constraints.unique).forEach(function (key) { for (idx = 0; idx < len; idx++) { doc = self.data[positions[idx]]; if (doc[key] !== null && doc[key] !== undefined) { self.constraints.unique[key].remove(doc[key]) } } }) } } if (!this.disableChangesApi || this.events.delete.length > 1) { for (idx = 0; idx < len; idx++) { this.emit(\"delete\", this.data[positions[idx]]) } } this.data = this.data.filter(function (obj) { return !xo[obj.$loki] }); this.idIndex = this.idIndex.filter(function (id) { return !xo[id] }); if (this.adaptiveBinaryIndices && adaptiveOverride) { this.adaptiveBinaryIndices = false; this.ensureAllIndexes(true); this.adaptiveBinaryIndices = true } this.commit(); this.dirty = true } catch (err) { this.rollback(); if (adaptiveOverride) { this.adaptiveBinaryIndices = true } this.console.error(err.message); this.emit(\"error\", err); return null } }; Collection.prototype.removeBatch = function (batch) { var len = batch.length, dlen = this.data.length, idx; var xlt = {}; var posx = []; for (idx = 0; idx < dlen; idx++) { xlt[this.data[idx].$loki] = idx } for (idx = 0; idx < len; idx++) { if (typeof batch[idx] === \"object\") { posx.push(xlt[batch[idx].$loki]) } else { posx.push(xlt[batch[idx]]) } } this.removeBatchByPositions(posx) }; Collection.prototype.remove = function (doc) { if (typeof doc === \"number\") { doc = this.get(doc) } if (\"object\" !== typeof doc) { throw new Error(\"Parameter is not an object\") } if (Array.isArray(doc)) { this.removeBatch(doc); return } if (!hasOwnProperty.call(doc, \"$loki\")) { throw new Error(\"Object is not a document stored in the collection\") } try { this.startTransaction(); var arr = this.get(doc.$loki, true), position = arr[1]; var self = this; Object.keys(this.constraints.unique).forEach(function (key) { if (doc[key] !== null && typeof doc[key] !== \"undefined\") { self.constraints.unique[key].remove(doc[key]) } }); for (var idx = 0; idx < this.DynamicViews.length; idx++) { this.DynamicViews[idx].removeDocument(position) } if (this.adaptiveBinaryIndices) { var key, bIndices = this.binaryIndices; for (key in bIndices) { this.adaptiveBinaryIndexRemove(position, key) } } else { this.flagBinaryIndexesDirty() } this.data.splice(position, 1); this.removeAutoUpdateObserver(doc); this.idIndex.splice(position, 1); this.commit(); this.dirty = true; this.emit(\"delete\", arr[0]); delete doc.$loki; delete doc.meta; return doc } catch (err) { this.rollback(); this.console.error(err.message); this.emit(\"error\", err); return null } }; Collection.prototype.get = function (id, returnPosition) { var retpos = returnPosition || false, data = this.idIndex, max = data.length - 1, min = 0, mid = min + max >> 1; id = typeof id === \"number\" ? id : parseInt(id, 10); if (isNaN(id)) { throw new TypeError(\"Passed id is not an integer\") } while (data[min] < data[max]) { mid = min + max >> 1; if (data[mid] < id) { min = mid + 1 } else { max = mid } } if (max === min && data[min] === id) { if (retpos) { return [this.data[min], min] } return this.data[min] } return null }; Collection.prototype.getBinaryIndexPosition = function (dataPosition, binaryIndexName) { var val = this.data[dataPosition][binaryIndexName]; var index = this.binaryIndices[binaryIndexName].values; var range = this.calculateRange(\"$eq\", binaryIndexName, val); if (range[0] === 0 && range[1] === -1) { return null } var min = range[0]; var max = range[1]; for (var idx = min; idx <= max; idx++) { if (index[idx] === dataPosition) return idx } return null }; Collection.prototype.adaptiveBinaryIndexInsert = function (dataPosition, binaryIndexName) { var index = this.binaryIndices[binaryIndexName].values; var val = this.data[dataPosition][binaryIndexName]; if (this.serializableIndices === true && val instanceof Date) { this.data[dataPosition][binaryIndexName] = val.getTime(); val = this.data[dataPosition][binaryIndexName] } var idxPos = index.length === 0 ? 0 : this.calculateRangeStart(binaryIndexName, val, true); this.binaryIndices[binaryIndexName].values.splice(idxPos, 0, dataPosition) }; Collection.prototype.adaptiveBinaryIndexUpdate = function (dataPosition, binaryIndexName) { var idxPos, index = this.binaryIndices[binaryIndexName].values, len = index.length; for (idxPos = 0; idxPos < len; idxPos++) { if (index[idxPos] === dataPosition) break } this.binaryIndices[binaryIndexName].values.splice(idxPos, 1); this.adaptiveBinaryIndexInsert(dataPosition, binaryIndexName) }; Collection.prototype.adaptiveBinaryIndexRemove = function (dataPosition, binaryIndexName, removedFromIndexOnly) { var bi = this.binaryIndices[binaryIndexName]; var len, idx, rmidx, rmlen, rxo = {}; var curr, shift, idxPos; if (Array.isArray(dataPosition)) { rmlen = dataPosition.length; if (rmlen === 1) { dataPosition = dataPosition[0] } else { for (rmidx = 0; rmidx < rmlen; rmidx++) { rxo[dataPosition[rmidx]] = true } bi.values = bi.values.filter(function (di) { return !rxo[di] }); if (removedFromIndexOnly === true) { return } var sortedPositions = dataPosition.slice(); sortedPositions.sort(function (a, b) { return a - b }); len = bi.values.length; for (idx = 0; idx < len; idx++) { curr = bi.values[idx]; shift = 0; for (rmidx = 0; rmidx < rmlen && curr > sortedPositions[rmidx]; rmidx++) { shift++ } bi.values[idx] -= shift } return } } idxPos = this.getBinaryIndexPosition(dataPosition, binaryIndexName); if (idxPos === null) { return null } bi.values.splice(idxPos, 1); if (removedFromIndexOnly === true) { return } len = bi.values.length; for (idx = 0; idx < len; idx++) { if (bi.values[idx] > dataPosition) { bi.values[idx]-- } } }; Collection.prototype.calculateRangeStart = function (prop, val, adaptive) { var rcd = this.data; var index = this.binaryIndices[prop].values; var min = 0; var max = index.length - 1; var mid = 0; if (index.length === 0) { return -1 } var minVal = rcd[index[min]][prop]; var maxVal = rcd[index[max]][prop]; while (min < max) { mid = min + max >> 1; if (Comparators.lt(rcd[index[mid]][prop], val, false)) { min = mid + 1 } else { max = mid } } var lbound = min; if (Comparators.aeq(val, rcd[index[lbound]][prop])) { return lbound } if (Comparators.lt(val, rcd[index[lbound]][prop], false)) { return adaptive ? lbound : lbound - 1 } return adaptive ? lbound + 1 : lbound }; Collection.prototype.calculateRangeEnd = function (prop, val) { var rcd = this.data; var index = this.binaryIndices[prop].values; var min = 0; var max = index.length - 1; var mid = 0; if (index.length === 0) { return -1 } var minVal = rcd[index[min]][prop]; var maxVal = rcd[index[max]][prop]; while (min < max) { mid = min + max >> 1; if (Comparators.lt(val, rcd[index[mid]][prop], false)) { max = mid } else { min = mid + 1 } } var ubound = max; if (Comparators.aeq(val, rcd[index[ubound]][prop])) { return ubound } if (Comparators.gt(val, rcd[index[ubound]][prop], false)) { return ubound + 1 } if (Comparators.aeq(val, rcd[index[ubound - 1]][prop])) { return ubound - 1 } return ubound }; Collection.prototype.calculateRange = function (op, prop, val) { var rcd = this.data; var index = this.binaryIndices[prop].values; var min = 0; var max = index.length - 1; var mid = 0; var lbound, lval; var ubound, uval; if (rcd.length === 0) { return [0, -1] } var minVal = rcd[index[min]][prop]; var maxVal = rcd[index[max]][prop]; switch (op) { case \"$eq\": case \"$aeq\": if (Comparators.lt(val, minVal, false) || Comparators.gt(val, maxVal, false)) { return [0, -1] } break; case \"$dteq\": if (Comparators.lt(val, minVal, false) || Comparators.gt(val, maxVal, false)) { return [0, -1] } break; case \"$gt\": if (Comparators.gt(val, maxVal, true)) { return [0, -1] } if (Comparators.gt(minVal, val, false)) { return [min, max] } break; case \"$gte\": if (Comparators.gt(val, maxVal, false)) { return [0, -1] } if (Comparators.gt(minVal, val, true)) { return [min, max] } break; case \"$lt\": if (Comparators.lt(val, minVal, true)) { return [0, -1] } if (Comparators.lt(maxVal, val, false)) { return [min, max] } break; case \"$lte\": if (Comparators.lt(val, minVal, false)) { return [0, -1] } if (Comparators.lt(maxVal, val, true)) { return [min, max] } break; case \"$between\": if (Comparators.gt(val[0], maxVal, false)) { return [0, -1] } if (Comparators.lt(val[1], minVal, false)) { return [0, -1] } lbound = this.calculateRangeStart(prop, val[0]); ubound = this.calculateRangeEnd(prop, val[1]); if (lbound < 0) lbound++; if (ubound > max) ubound--; if (!Comparators.gt(rcd[index[lbound]][prop], val[0], true)) lbound++; if (!Comparators.lt(rcd[index[ubound]][prop], val[1], true)) ubound--; if (ubound < lbound) return [0, -1]; return [lbound, ubound]; case \"$in\": var idxset = [], segResult = []; for (var j = 0, len = val.length; j < len; j++) { var seg = this.calculateRange(\"$eq\", prop, val[j]); for (var i = seg[0]; i <= seg[1]; i++) { if (idxset[i] === undefined) { idxset[i] = true; segResult.push(i) } } } return segResult }switch (op) { case \"$eq\": case \"$aeq\": case \"$dteq\": case \"$gte\": case \"$lt\": lbound = this.calculateRangeStart(prop, val); lval = rcd[index[lbound]][prop]; break; default: break }switch (op) { case \"$eq\": case \"$aeq\": case \"$dteq\": case \"$lte\": case \"$gt\": ubound = this.calculateRangeEnd(prop, val); uval = rcd[index[ubound]][prop]; break; default: break }switch (op) { case \"$eq\": case \"$aeq\": case \"$dteq\": if (!Comparators.aeq(lval, val)) { return [0, -1] } return [lbound, ubound]; case \"$gt\": if (!Comparators.aeq(rcd[index[ubound]][prop], val)) { return [ubound, max] } return [ubound + 1, max]; case \"$gte\": if (!Comparators.aeq(rcd[index[lbound]][prop], val)) { return [lbound + 1, max] } return [lbound, max]; case \"$lt\": if (!Comparators.aeq(rcd[index[lbound]][prop], val)) { return [min, lbound] } return [min, lbound - 1]; case \"$lte\": if (!Comparators.aeq(rcd[index[ubound]][prop], val)) { return [min, ubound - 1] } return [min, ubound]; default: return [0, rcd.length - 1] } }; Collection.prototype.by = function (field, value) { var self; if (value === undefined) { self = this; return function (value) { return self.by(field, value) } } var result = this.constraints.unique[field].get(value); if (!this.cloneObjects) { return result } else { return clone(result, this.cloneMethod) } }; Collection.prototype.findOne = function (query) { query = query || {}; var result = this.chain().find(query, true).data(); if (Array.isArray(result) && result.length === 0) { return null } else { if (!this.cloneObjects) { return result[0] } else { return clone(result[0], this.cloneMethod) } } }; Collection.prototype.chain = function (transform, parameters) { var rs = new Resultset(this); if (typeof transform === \"undefined\") { return rs } return rs.transform(transform, parameters) }; Collection.prototype.find = function (query) { return this.chain().find(query).data() }; Collection.prototype.findOneUnindexed = function (prop, value) { var i = this.data.length, doc; while (i--) { if (this.data[i][prop] === value) { doc = this.data[i]; return doc } } return null }; Collection.prototype.startTransaction = function () { if (this.transactional) { this.cachedData = clone(this.data, this.cloneMethod); this.cachedIndex = this.idIndex; this.cachedBinaryIndex = this.binaryIndices; for (var idx = 0; idx < this.DynamicViews.length; idx++) { this.DynamicViews[idx].startTransaction() } } }; Collection.prototype.commit = function () { if (this.transactional) { this.cachedData = null; this.cachedIndex = null; this.cachedBinaryIndex = null; for (var idx = 0; idx < this.DynamicViews.length; idx++) { this.DynamicViews[idx].commit() } } }; Collection.prototype.rollback = function () { if (this.transactional) { if (this.cachedData !== null && this.cachedIndex !== null) { this.data = this.cachedData; this.idIndex = this.cachedIndex; this.binaryIndices = this.cachedBinaryIndex } for (var idx = 0; idx < this.DynamicViews.length; idx++) { this.DynamicViews[idx].rollback() } } }; Collection.prototype.async = function (fun, callback) { setTimeout(function () { if (typeof fun === \"function\") { fun(); callback() } else { throw new TypeError(\"Argument passed for async execution is not a function\") } }, 0) }; Collection.prototype.where = function (fun) { return this.chain().where(fun).data() }; Collection.prototype.mapReduce = function (mapFunction, reduceFunction) { try { return reduceFunction(this.data.map(mapFunction)) } catch (err) { throw err } }; Collection.prototype.eqJoin = function (joinData, leftJoinProp, rightJoinProp, mapFun, dataOptions) { return new Resultset(this).eqJoin(joinData, leftJoinProp, rightJoinProp, mapFun, dataOptions) }; Collection.prototype.stages = {}; Collection.prototype.getStage = function (name) { if (!this.stages[name]) { this.stages[name] = {} } return this.stages[name] }; Collection.prototype.commitLog = []; Collection.prototype.stage = function (stageName, obj) { var copy = JSON.parse(JSON.stringify(obj)); this.getStage(stageName)[obj.$loki] = copy; return copy }; Collection.prototype.commitStage = function (stageName, message) { var stage = this.getStage(stageName), prop, timestamp = (new Date).getTime(); for (prop in stage) { this.update(stage[prop]); this.commitLog.push({ timestamp: timestamp, message: message, data: JSON.parse(JSON.stringify(stage[prop])) }) } this.stages[stageName] = {} }; Collection.prototype.no_op = function () { return }; Collection.prototype.extract = function (field) { var i = 0, len = this.data.length, isDotNotation = isDeepProperty(field), result = []; for (i; i < len; i += 1) { result.push(deepProperty(this.data[i], field, isDotNotation)) } return result }; Collection.prototype.max = function (field) { return Math.max.apply(null, this.extract(field)) }; Collection.prototype.min = function (field) { return Math.min.apply(null, this.extract(field)) }; Collection.prototype.maxRecord = function (field) { var i = 0, len = this.data.length, deep = isDeepProperty(field), result = { index: 0, value: undefined }, max; for (i; i < len; i += 1) { if (max !== undefined) { if (max < deepProperty(this.data[i], field, deep)) { max = deepProperty(this.data[i], field, deep); result.index = this.data[i].$loki } } else { max = deepProperty(this.data[i], field, deep); result.index = this.data[i].$loki } } result.value = max; return result }; Collection.prototype.minRecord = function (field) { var i = 0, len = this.data.length, deep = isDeepProperty(field), result = { index: 0, value: undefined }, min; for (i; i < len; i += 1) { if (min !== undefined) { if (min > deepProperty(this.data[i], field, deep)) { min = deepProperty(this.data[i], field, deep); result.index = this.data[i].$loki } } else { min = deepProperty(this.data[i], field, deep); result.index = this.data[i].$loki } } result.value = min; return result }; Collection.prototype.extractNumerical = function (field) { return this.extract(field).map(parseBase10).filter(Number).filter(function (n) { return !isNaN(n) }) }; Collection.prototype.avg = function (field) { return average(this.extractNumerical(field)) }; Collection.prototype.stdDev = function (field) { return standardDeviation(this.extractNumerical(field)) }; Collection.prototype.mode = function (field) { var dict = {}, data = this.extract(field); data.forEach(function (obj) { if (dict[obj]) { dict[obj] += 1 } else { dict[obj] = 1 } }); var max, prop, mode; for (prop in dict) { if (max) { if (max < dict[prop]) { mode = prop } } else { mode = prop; max = dict[prop] } } return mode }; Collection.prototype.median = function (field) { var values = this.extractNumerical(field); values.sort(sub); var half = Math.floor(values.length / 2); if (values.length % 2) { return values[half] } else { return (values[half - 1] + values[half]) / 2 } }; function isDeepProperty(field) { return field.indexOf(\".\") !== -1 } function parseBase10(num) { return parseFloat(num, 10) } function isNotUndefined(obj) { return obj !== undefined } function add(a, b) { return a + b } function sub(a, b) { return a - b } function median(values) { values.sort(sub); var half = Math.floor(values.length / 2); return values.length % 2 ? values[half] : (values[half - 1] + values[half]) / 2 } function average(array) { return array.reduce(add, 0) / array.length } function standardDeviation(values) { var avg = average(values); var squareDiffs = values.map(function (value) { var diff = value - avg; var sqrDiff = diff * diff; return sqrDiff }); var avgSquareDiff = average(squareDiffs); var stdDev = Math.sqrt(avgSquareDiff); return stdDev } function deepProperty(obj, property, isDeep) { if (isDeep === false) { return obj[property] } var pieces = property.split(\".\"), root = obj; while (pieces.length > 0) { root = root[pieces.shift()] } return root } function binarySearch(array, item, fun) { var lo = 0, hi = array.length, compared, mid; while (lo < hi) { mid = lo + hi >> 1; compared = fun.apply(null, [item, array[mid]]); if (compared === 0) { return { found: true, index: mid } } else if (compared < 0) { hi = mid } else { lo = mid + 1 } } return { found: false, index: hi } } function BSonSort(fun) { return function (array, item) { return binarySearch(array, item, fun) } } function KeyValueStore() { } KeyValueStore.prototype = { keys: [], values: [], sort: function (a, b) { return a < b ? -1 : a > b ? 1 : 0 }, setSort: function (fun) { this.bs = new BSonSort(fun) }, bs: function () { return new BSonSort(this.sort) }, set: function (key, value) { var pos = this.bs(this.keys, key); if (pos.found) { this.values[pos.index] = value } else { this.keys.splice(pos.index, 0, key); this.values.splice(pos.index, 0, value) } }, get: function (key) { return this.values[binarySearch(this.keys, key, this.sort).index] } }; function UniqueIndex(uniqueField) { this.field = uniqueField; this.keyMap = {}; this.lokiMap = {} } UniqueIndex.prototype.keyMap = {}; UniqueIndex.prototype.lokiMap = {}; UniqueIndex.prototype.set = function (obj) { var fieldValue = obj[this.field]; if (fieldValue !== null && typeof fieldValue !== \"undefined\") { if (this.keyMap[fieldValue]) { throw new Error(\"Duplicate key for property \" + this.field + \": \" + fieldValue) } else { this.keyMap[fieldValue] = obj; this.lokiMap[obj.$loki] = fieldValue } } }; UniqueIndex.prototype.get = function (key) { return this.keyMap[key] }; UniqueIndex.prototype.byId = function (id) { return this.keyMap[this.lokiMap[id]] }; UniqueIndex.prototype.update = function (obj, doc) { if (this.lokiMap[obj.$loki] !== doc[this.field]) { var old = this.lokiMap[obj.$loki]; this.set(doc); this.keyMap[old] = undefined } else { this.keyMap[obj[this.field]] = doc } }; UniqueIndex.prototype.remove = function (key) { var obj = this.keyMap[key]; if (obj !== null && typeof obj !== \"undefined\") { this.keyMap[key] = undefined; this.lokiMap[obj.$loki] = undefined } else { throw new Error(\"Key is not in unique index: \" + this.field) } }; UniqueIndex.prototype.clear = function () { this.keyMap = {}; this.lokiMap = {} }; function ExactIndex(exactField) { this.index = {}; this.field = exactField } ExactIndex.prototype = { set: function add(key, val) { if (this.index[key]) { this.index[key].push(val) } else { this.index[key] = [val] } }, remove: function remove(key, val) { var idxSet = this.index[key]; for (var i in idxSet) { if (idxSet[i] == val) { idxSet.splice(i, 1) } } if (idxSet.length < 1) { this.index[key] = undefined } }, get: function get(key) { return this.index[key] }, clear: function clear(key) { this.index = {} } }; function SortedIndex(sortedField) { this.field = sortedField } SortedIndex.prototype = {\r\n                keys: [], values: [], sort: function (a, b) { return a < b ? -1 : a > b ? 1 : 0 }, bs: function () { return new BSonSort(this.sort) }, setSort: function (fun) { this.bs = new BSonSort(fun) }, set: function (key, value) { var pos = binarySearch(this.keys, key, this.sort); if (pos.found) { this.values[pos.index].push(value) } else { this.keys.splice(pos.index, 0, key); this.values.splice(pos.index, 0, [value]) } }, get: function (key) { var bsr = binarySearch(this.keys, key, this.sort); if (bsr.found) { return this.values[bsr.index] } else { return [] } }, getLt: function (key) { var bsr = binarySearch(this.keys, key, this.sort); var pos = bsr.index; if (bsr.found) pos--; return this.getAll(key, 0, pos) }, getGt: function (key) { var bsr = binarySearch(this.keys, key, this.sort); var pos = bsr.index; if (bsr.found) pos++; return this.getAll(key, pos, this.keys.length) }, getAll: function (key, start, end) {\r\n                    var results = []; for (var i = start; i < end; i++) {\r\n                        results = results.concat(this.values[i])\r\n                    } return results\r\n                }, getPos: function (key) { return binarySearch(this.keys, key, this.sort) }, remove: function (key, value) { var pos = binarySearch(this.keys, key, this.sort).index; var idxSet = this.values[pos]; for (var i in idxSet) { if (idxSet[i] == value) idxSet.splice(i, 1) } if (idxSet.length < 1) { this.keys.splice(pos, 1); this.values.splice(pos, 1) } }, clear: function () { this.keys = []; this.values = [] }\r\n            }; Loki.LokiOps = LokiOps; Loki.Collection = Collection; Loki.KeyValueStore = KeyValueStore; Loki.LokiMemoryAdapter = LokiMemoryAdapter; Loki.LokiPartitioningAdapter = LokiPartitioningAdapter; Loki.LokiLocalStorageAdapter = LokiLocalStorageAdapter; Loki.LokiFsAdapter = LokiFsAdapter; Loki.persistenceAdapters = { fs: LokiFsAdapter, localStorage: LokiLocalStorageAdapter }; Loki.aeq = aeqHelper; Loki.lt = ltHelper; Loki.gt = gtHelper; Loki.Comparators = Comparators; return Loki\r\n    }()\r\n});"]}